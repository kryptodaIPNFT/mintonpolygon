{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\hndls\\\\matic-nft-tutorial\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\hndls\\\\matic-nft-tutorial\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\hndls\\\\matic-nft-tutorial\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{Badge,Button}from\"antd\";import{useBlockNumber,usePoller}from\"eth-hooks\";import React,{useState}from\"react\";// import { WalletOutlined } from '@ant-design/icons';\nimport Address from\"./Address\";export default function Provider(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMore=_useState2[0],setShowMore=_useState2[1];var _useState3=useState(\"processing\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),network=_useState6[0],setNetwork=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),signer=_useState8[0],setSigner=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),address=_useState10[0],setAddress=_useState10[1];var blockNumber=useBlockNumber(props.provider);usePoller(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newNetwork,newSigner,newAddress;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(props.provider&&typeof props.provider.getNetwork===\"function\")){_context.next=26;break;}_context.prev=1;_context.next=4;return props.provider.getNetwork();case 4:newNetwork=_context.sent;setNetwork(newNetwork);if(newNetwork.chainId>0){setStatus(\"success\");}else{setStatus(\"warning\");}_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);setStatus(\"processing\");case 13:_context.prev=13;_context.next=16;return props.provider.getSigner();case 16:newSigner=_context.sent;setSigner(newSigner);_context.next=20;return newSigner.getAddress();case 20:newAddress=_context.sent;setAddress(newAddress);// eslint-disable-next-line no-empty\n_context.next=26;break;case 24:_context.prev=24;_context.t1=_context[\"catch\"](13);case 26:case\"end\":return _context.stop();}}},_callee,null,[[1,9],[13,24]]);})),1377);if(typeof props.provider===\"undefined\"||typeof props.provider.getNetwork!==\"function\"||!network||!network.chainId){return/*#__PURE__*/React.createElement(Button,{shape:\"round\",size:\"large\",onClick:function onClick(){setShowMore(!showMore);}},/*#__PURE__*/React.createElement(Badge,{status:status}),\" \",props.name);}var showExtra=\"\";if(showMore){showExtra=/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"span\",{style:{padding:3}},\"id:\",network?network.chainId:\"\"),/*#__PURE__*/React.createElement(\"span\",{style:{padding:3}},\"name:\",network?network.name:\"\"));}var showWallet=\"\";if(typeof signer!==\"undefined\"&&address){showWallet=/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"span\",{style:{padding:3}},/*#__PURE__*/React.createElement(Address,{minimized:true,address:address})));}return/*#__PURE__*/React.createElement(Button,{shape:\"round\",size:\"large\",onClick:function onClick(){setShowMore(!showMore);}},/*#__PURE__*/React.createElement(Badge,{status:status}),\" \",props.name,\" \",showWallet,\" #\",blockNumber,\" \",showExtra);}","map":{"version":3,"sources":["C:/Users/hndls/matic-nft-tutorial/packages/react-app/src/components/Provider.jsx"],"names":["Badge","Button","useBlockNumber","usePoller","React","useState","Address","Provider","props","showMore","setShowMore","status","setStatus","network","setNetwork","signer","setSigner","address","setAddress","blockNumber","provider","getNetwork","newNetwork","chainId","console","log","getSigner","newSigner","getAddress","newAddress","name","showExtra","padding","showWallet"],"mappings":"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","sourcesContent":["import { Badge, Button } from \"antd\";\r\nimport { useBlockNumber, usePoller } from \"eth-hooks\";\r\nimport React, { useState } from \"react\";\r\n// import { WalletOutlined } from '@ant-design/icons';\r\nimport Address from \"./Address\";\r\n\r\nexport default function Provider(props) {\r\n  const [showMore, setShowMore] = useState(false);\r\n  const [status, setStatus] = useState(\"processing\");\r\n  const [network, setNetwork] = useState();\r\n  const [signer, setSigner] = useState();\r\n  const [address, setAddress] = useState();\r\n\r\n  const blockNumber = useBlockNumber(props.provider);\r\n\r\n  usePoller(async () => {\r\n    if (props.provider && typeof props.provider.getNetwork === \"function\") {\r\n      try {\r\n        const newNetwork = await props.provider.getNetwork();\r\n        setNetwork(newNetwork);\r\n        if (newNetwork.chainId > 0) {\r\n          setStatus(\"success\");\r\n        } else {\r\n          setStatus(\"warning\");\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n        setStatus(\"processing\");\r\n      }\r\n      try {\r\n        const newSigner = await props.provider.getSigner();\r\n        setSigner(newSigner);\r\n        const newAddress = await newSigner.getAddress();\r\n        setAddress(newAddress);\r\n        // eslint-disable-next-line no-empty\r\n      } catch (e) {}\r\n    }\r\n  }, 1377);\r\n\r\n  if (\r\n    typeof props.provider === \"undefined\" ||\r\n    typeof props.provider.getNetwork !== \"function\" ||\r\n    !network ||\r\n    !network.chainId\r\n  ) {\r\n    return (\r\n      <Button\r\n        shape=\"round\"\r\n        size=\"large\"\r\n        onClick={() => {\r\n          setShowMore(!showMore);\r\n        }}\r\n      >\r\n        <Badge status={status} /> {props.name}\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  let showExtra = \"\";\r\n  if (showMore) {\r\n    showExtra = (\r\n      <span>\r\n        <span style={{ padding: 3 }}>\r\n          id:\r\n          {network ? network.chainId : \"\"}\r\n        </span>\r\n        <span style={{ padding: 3 }}>\r\n          name:\r\n          {network ? network.name : \"\"}\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  let showWallet = \"\";\r\n  if (typeof signer !== \"undefined\" && address) {\r\n    showWallet = (\r\n      <span>\r\n        <span style={{ padding: 3 }}>\r\n          <Address minimized address={address} />\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Button\r\n      shape=\"round\"\r\n      size=\"large\"\r\n      onClick={() => {\r\n        setShowMore(!showMore);\r\n      }}\r\n    >\r\n      <Badge status={status} /> {props.name} {showWallet} #{blockNumber} {showExtra}\r\n    </Button>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
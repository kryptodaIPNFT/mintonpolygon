{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\hndls\\\\matic-nft-tutorial\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\hndls\\\\matic-nft-tutorial\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"C:\\\\Users\\\\hndls\\\\matic-nft-tutorial\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\hndls\\\\matic-nft-tutorial\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _asyncIterator from\"C:\\\\Users\\\\hndls\\\\matic-nft-tutorial\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncIterator\";import WalletConnectProvider from\"@walletconnect/web3-provider\";import{Alert,Button,Card,Col,Input,List,Menu,Row}from\"antd\";import\"antd/dist/antd.css\";import React,{useCallback,useEffect,useState}from\"react\";import ReactJson from\"react-json-view\";import{BrowserRouter,Link,Route,Switch}from\"react-router-dom\";import Web3Modal from\"web3modal\";import\"./App.css\";import{Account,Address,AddressInput,Contract,Faucet,GasGauge,Header,Ramp,ThemeSwitch}from\"./components\";import{INFURA_ID,NETWORK,NETWORKS}from\"./constants\";import{Transactor}from\"./helpers\";import{useBalance,useContractLoader,useContractReader,useEventListener,useExchangePrice,useGasPrice,useOnBlock,useUserSigner}from\"./hooks\";var _require=require(\"bl\"),BufferList=_require.BufferList;// https://www.npmjs.com/package/ipfs-http-client\nvar ipfsAPI=require(\"ipfs-http-client\");var ipfs=ipfsAPI({host:\"ipfs.infura.io\",port:\"5001\",protocol:\"https\"});var _require2=require(\"ethers\"),ethers=_require2.ethers;/*\r\n    Welcome to üèó scaffold-eth !\r\n\r\n    Code:\r\n    https://github.com/austintgriffith/scaffold-eth\r\n\r\n    Support:\r\n    https://t.me/joinchat/KByvmRe5wkR-8F_zz6AjpA\r\n    or DM @austingriffith on twitter or telegram\r\n\r\n    You should get your own Infura.io ID and put it in `constants.js`\r\n    (this is your connection to the main Ethereum network for ENS etc.)\r\n\r\n\r\n    üåè EXTERNAL CONTRACTS:\r\n    You can also bring in contract artifacts in `constants.js`\r\n    (and then use the `useExternalContractLoader()` hook!)\r\n*/ /// üì° What chain are your contracts deployed to?\nvar targetNetwork=NETWORKS.mumbai;// <------- select your target frontend network (localhost, rinkeby, xdai, mainnet)\n// üò¨ Sorry for all the console logging\nvar DEBUG=true;var NETWORKCHECK=true;// EXAMPLE STARTING JSON:\nvar STARTING_JSON={description:\"It's actually a bison?\",external_url:\"https://austingriffith.com/portfolio/paintings/\",// <-- this can link to a page for the specific file too\nimage:\"https://austingriffith.com/images/paintings/buffalo.jpg\",name:\"Buffalo\",attributes:[{trait_type:\"BackgroundColor\",value:\"green\"},{trait_type:\"Eyes\",value:\"googly\"}]};// helper function to \"Get\" from IPFS\n// you usually go content.toString() after this...\nvar getFromIPFS=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(hashToGet){var _iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_value,file,content,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,_value2,chunk;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_iteratorNormalCompletion=true;_didIteratorError=false;_context.prev=2;_iterator=_asyncIterator(ipfs.get(hashToGet));case 4:_context.next=6;return _iterator.next();case 6:_step=_context.sent;_iteratorNormalCompletion=_step.done;_context.next=10;return _step.value;case 10:_value=_context.sent;if(_iteratorNormalCompletion){_context.next=55;break;}file=_value;console.log(file.path);if(file.content){_context.next=16;break;}return _context.abrupt(\"continue\",52);case 16:content=new BufferList();_iteratorNormalCompletion2=true;_didIteratorError2=false;_context.prev=19;_iterator2=_asyncIterator(file.content);case 21:_context.next=23;return _iterator2.next();case 23:_step2=_context.sent;_iteratorNormalCompletion2=_step2.done;_context.next=27;return _step2.value;case 27:_value2=_context.sent;if(_iteratorNormalCompletion2){_context.next=34;break;}chunk=_value2;content.append(chunk);case 31:_iteratorNormalCompletion2=true;_context.next=21;break;case 34:_context.next=40;break;case 36:_context.prev=36;_context.t0=_context[\"catch\"](19);_didIteratorError2=true;_iteratorError2=_context.t0;case 40:_context.prev=40;_context.prev=41;if(!(!_iteratorNormalCompletion2&&_iterator2.return!=null)){_context.next=45;break;}_context.next=45;return _iterator2.return();case 45:_context.prev=45;if(!_didIteratorError2){_context.next=48;break;}throw _iteratorError2;case 48:return _context.finish(45);case 49:return _context.finish(40);case 50:console.log(content);return _context.abrupt(\"return\",content);case 52:_iteratorNormalCompletion=true;_context.next=4;break;case 55:_context.next=61;break;case 57:_context.prev=57;_context.t1=_context[\"catch\"](2);_didIteratorError=true;_iteratorError=_context.t1;case 61:_context.prev=61;_context.prev=62;if(!(!_iteratorNormalCompletion&&_iterator.return!=null)){_context.next=66;break;}_context.next=66;return _iterator.return();case 66:_context.prev=66;if(!_didIteratorError){_context.next=69;break;}throw _iteratorError;case 69:return _context.finish(66);case 70:return _context.finish(61);case 71:case\"end\":return _context.stop();}}},_callee,null,[[2,57,61,71],[19,36,40,50],[41,,45,49],[62,,66,70]]);}));return function getFromIPFS(_x){return _ref.apply(this,arguments);};}();// üõ∞ providers\nif(DEBUG)console.log(\"üì° Connecting to Mainnet Ethereum\");// const mainnetProvider = getDefaultProvider(\"mainnet\", { infura: INFURA_ID, etherscan: ETHERSCAN_KEY, quorum: 1 });\n// const mainnetProvider = new InfuraProvider(\"mainnet\",INFURA_ID);\n//\n// attempt to connect to our own scaffold eth rpc and if that fails fall back to infura...\n// Using StaticJsonRpcProvider as the chainId won't change see https://github.com/ethers-io/ethers.js/issues/901\nvar scaffoldEthProvider=navigator.onLine?new ethers.providers.StaticJsonRpcProvider(\"https://rpc.scaffoldeth.io:48544\"):null;var mainnetInfura=navigator.onLine?new ethers.providers.StaticJsonRpcProvider(\"https://mainnet.infura.io/v3/\"+INFURA_ID):null;// ( ‚ö†Ô∏è Getting \"failed to meet quorum\" errors? Check your INFURA_I\n// üè† Your local provider is usually pointed at your local blockchain\nvar localProviderUrl=targetNetwork.rpcUrl;// as you deploy to other networks you can set REACT_APP_PROVIDER=https://dai.poa.network in packages/react-app/.env\nvar localProviderUrlFromEnv=process.env.REACT_APP_PROVIDER?process.env.REACT_APP_PROVIDER:localProviderUrl;if(DEBUG)console.log(\"üè† Connecting to provider:\",localProviderUrlFromEnv);var localProvider=new ethers.providers.StaticJsonRpcProvider(localProviderUrlFromEnv);// üî≠ block explorer URL\nvar blockExplorer=targetNetwork.blockExplorer;/*\r\n  Web3 modal helps us \"connect\" external wallets:\r\n*/var web3Modal=new Web3Modal({// network: \"mainnet\", // optional\ncacheProvider:true,// optional\nproviderOptions:{walletconnect:{package:WalletConnectProvider,// required\noptions:{infuraId:INFURA_ID}}}});var logoutOfWeb3Modal=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return web3Modal.clearCachedProvider();case 2:setTimeout(function(){window.location.reload();},1);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function logoutOfWeb3Modal(){return _ref2.apply(this,arguments);};}();function App(props){var mainnetProvider=scaffoldEthProvider&&scaffoldEthProvider._network?scaffoldEthProvider:mainnetInfura;var _useState=useState(),_useState2=_slicedToArray(_useState,2),injectedProvider=_useState2[0],setInjectedProvider=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),address=_useState4[0],setAddress=_useState4[1];/* üíµ This hook will get the price of ETH from ü¶Ñ Uniswap: */var price=useExchangePrice(targetNetwork,mainnetProvider);/* üî• This hook will get the price of Gas from ‚õΩÔ∏è EtherGasStation */var gasPrice=useGasPrice(targetNetwork,\"fast\");// Use your injected provider from ü¶ä Metamask or if you don't have it then instantly generate a üî• burner wallet.\nvar userSigner=useUserSigner(injectedProvider,localProvider);useEffect(function(){function getAddress(){return _getAddress.apply(this,arguments);}function _getAddress(){_getAddress=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var newAddress;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!userSigner){_context3.next=5;break;}_context3.next=3;return userSigner.getAddress();case 3:newAddress=_context3.sent;setAddress(newAddress);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _getAddress.apply(this,arguments);}getAddress();},[userSigner]);// You can warn the user if you would like them to be on a specific network\nvar localChainId=localProvider&&localProvider._network&&localProvider._network.chainId;var selectedChainId=userSigner&&userSigner.provider&&userSigner.provider._network&&userSigner.provider._network.chainId;// For more hooks, check out üîóeth-hooks at: https://www.npmjs.com/package/eth-hooks\n// The transactor wraps transactions and provides notificiations\nvar tx=Transactor(userSigner,gasPrice);// Faucet Tx can be used to send funds from the faucet\nvar faucetTx=Transactor(localProvider,gasPrice);// üèó scaffold-eth is full of handy hooks like this one to get your balance:\nvar yourLocalBalance=useBalance(localProvider,address);// Just plug in different üõ∞ providers to get your balance on different chains:\nvar yourMainnetBalance=useBalance(mainnetProvider,address);// Load in your local üìù contract and read a value from it:\nvar readContracts=useContractLoader(localProvider);// If you want to make üîê write transactions to your contracts, use the userSigner:\nvar writeContracts=useContractLoader(userSigner,{chainId:localChainId});// EXTERNAL CONTRACT EXAMPLE:\n//\n// If you want to bring in the mainnet DAI contract it would look like:\nvar mainnetContracts=useContractLoader(mainnetProvider);// If you want to call a function on a new block\nuseOnBlock(mainnetProvider,function(){console.log(\"\\u26D3 A new mainnet block is here: \".concat(mainnetProvider._lastBlockNumber));});// Then read your DAI balance like:\nvar myMainnetDAIBalance=useContractReader(mainnetContracts,\"DAI\",\"balanceOf\",[\"0x34aA3F359A9D614239015126635CE7732c18fDF3\"]);// keep track of a variable from the contract in the local React state:\nvar balance=useContractReader(readContracts,\"YourCollectible\",\"balanceOf\",[address]);console.log(\"ü§ó balance:\",balance);// üìü Listen for broadcast events\nvar transferEvents=useEventListener(readContracts,\"YourCollectible\",\"Transfer\",localProvider,1);console.log(\"üìü Transfer events:\",transferEvents);//\n// üß† This effect will update yourCollectibles by polling when your balance changes\n//\nvar yourBalance=balance&&balance.toNumber&&balance.toNumber();var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),yourCollectibles=_useState6[0],setYourCollectibles=_useState6[1];useEffect(function(){var updateYourCollectibles=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var collectibleUpdate,tokenIndex,tokenId,tokenURI,_ipfsHash,jsonManifestBuffer,jsonManifest;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:collectibleUpdate=[];tokenIndex=0;case 2:if(!(tokenIndex<balance)){_context4.next=27;break;}_context4.prev=3;console.log(\"GEtting token index\",tokenIndex);_context4.next=7;return readContracts.YourCollectible.tokenOfOwnerByIndex(address,tokenIndex);case 7:tokenId=_context4.sent;console.log(\"tokenId\",tokenId);_context4.next=11;return readContracts.YourCollectible.tokenURI(tokenId);case 11:tokenURI=_context4.sent;console.log(\"tokenURI\",tokenURI);_ipfsHash=tokenURI.replace(\"https://ipfs.io/ipfs/\",\"\");console.log(\"ipfsHash\",_ipfsHash);_context4.next=17;return getFromIPFS(_ipfsHash);case 17:jsonManifestBuffer=_context4.sent;try{jsonManifest=JSON.parse(jsonManifestBuffer.toString());console.log(\"jsonManifest\",jsonManifest);collectibleUpdate.push(_objectSpread({id:tokenId,uri:tokenURI,owner:address},jsonManifest));}catch(e){console.log(e);}_context4.next=24;break;case 21:_context4.prev=21;_context4.t0=_context4[\"catch\"](3);console.log(_context4.t0);case 24:tokenIndex++;_context4.next=2;break;case 27:setYourCollectibles(collectibleUpdate);case 28:case\"end\":return _context4.stop();}}},_callee4,null,[[3,21]]);}));return function updateYourCollectibles(){return _ref3.apply(this,arguments);};}();updateYourCollectibles();},[address,yourBalance]);/*\r\n  const addressFromENS = useResolveName(mainnetProvider, \"austingriffith.eth\");\r\n  console.log(\"üè∑ Resolved austingriffith.eth as:\",addressFromENS)\r\n  */ //\n// üß´ DEBUG üë®üèª‚Äçüî¨\n//\nuseEffect(function(){if(DEBUG&&mainnetProvider&&address&&selectedChainId&&yourLocalBalance&&yourMainnetBalance&&readContracts&&writeContracts&&mainnetContracts){console.log(\"_____________________________________ üèó scaffold-eth _____________________________________\");console.log(\"üåé mainnetProvider\",mainnetProvider);console.log(\"üè† localChainId\",localChainId);console.log(\"üë©‚Äçüíº selected address:\",address);console.log(\"üïµüèª‚Äç‚ôÇÔ∏è selectedChainId:\",selectedChainId);console.log(\"üíµ yourLocalBalance\",yourLocalBalance?ethers.utils.formatEther(yourLocalBalance):\"...\");console.log(\"üíµ yourMainnetBalance\",yourMainnetBalance?ethers.utils.formatEther(yourMainnetBalance):\"...\");console.log(\"üìù readContracts\",readContracts);console.log(\"üåç DAI contract on mainnet:\",mainnetContracts);console.log(\"üíµ yourMainnetDAIBalance\",myMainnetDAIBalance);console.log(\"üîê writeContracts\",writeContracts);}},[mainnetProvider,address,selectedChainId,yourLocalBalance,yourMainnetBalance,readContracts,writeContracts,mainnetContracts]);var networkDisplay=\"\";if(NETWORKCHECK&&localChainId&&selectedChainId&&localChainId!==selectedChainId){var networkSelected=NETWORK(selectedChainId);var networkLocal=NETWORK(localChainId);if(selectedChainId===1337&&localChainId===31337){networkDisplay=/*#__PURE__*/React.createElement(\"div\",{style:{zIndex:2,position:\"absolute\",right:0,top:60,padding:16}},/*#__PURE__*/React.createElement(Alert,{message:\"\\u26A0\\uFE0F Wrong Network ID\",description:/*#__PURE__*/React.createElement(\"div\",null,\"You have \",/*#__PURE__*/React.createElement(\"b\",null,\"chain id 1337\"),\" for localhost and you need to change it to \",/*#__PURE__*/React.createElement(\"b\",null,\"31337\"),\" to work with HardHat.\",/*#__PURE__*/React.createElement(\"div\",null,\"(MetaMask -> Settings -> Networks -> Chain ID -> 31337)\")),type:\"error\",closable:false}));}else{networkDisplay=/*#__PURE__*/React.createElement(\"div\",{style:{zIndex:2,position:\"absolute\",right:0,top:60,padding:16}},/*#__PURE__*/React.createElement(Alert,{message:\"\\u26A0\\uFE0F Wrong Network\",description:/*#__PURE__*/React.createElement(\"div\",null,\"You have \",/*#__PURE__*/React.createElement(\"b\",null,networkSelected&&networkSelected.name),\" selected and you need to be on\",\" \",/*#__PURE__*/React.createElement(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var ethereum,data,tx;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:ethereum=window.ethereum;data=[{chainId:\"0x\"+targetNetwork.chainId.toString(16),chainName:targetNetwork.name,nativeCurrency:targetNetwork.nativeCurrency,rpcUrls:[targetNetwork.rpcUrl],blockExplorerUrls:[targetNetwork.blockExplorer]}];console.log(\"data\",data);_context5.next=5;return ethereum.request({method:\"wallet_addEthereumChain\",params:data}).catch();case 5:tx=_context5.sent;if(tx){console.log(tx);}case 7:case\"end\":return _context5.stop();}}},_callee5);}))},/*#__PURE__*/React.createElement(\"b\",null,networkLocal&&networkLocal.name)),\".\"),type:\"error\",closable:false}));}}else{networkDisplay=/*#__PURE__*/React.createElement(\"div\",{style:{zIndex:-1,position:\"absolute\",right:154,top:28,padding:16,color:targetNetwork.color}},targetNetwork.name);}var loadWeb3Modal=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var provider;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return web3Modal.connect();case 2:provider=_context6.sent;setInjectedProvider(new ethers.providers.Web3Provider(provider));provider.on(\"chainChanged\",function(chainId){console.log(\"chain changed to \".concat(chainId,\"! updating providers\"));setInjectedProvider(new ethers.providers.Web3Provider(provider));});provider.on(\"accountsChanged\",function(){console.log(\"account changed!\");setInjectedProvider(new ethers.providers.Web3Provider(provider));});// Subscribe to session disconnection\nprovider.on(\"disconnect\",function(code,reason){console.log(code,reason);logoutOfWeb3Modal();});case 7:case\"end\":return _context6.stop();}}},_callee6);})),[setInjectedProvider]);useEffect(function(){if(web3Modal.cachedProvider){loadWeb3Modal();}},[loadWeb3Modal]);var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),route=_useState8[0],setRoute=_useState8[1];useEffect(function(){setRoute(window.location.pathname);},[setRoute]);var faucetHint=\"\";var faucetAvailable=localProvider&&localProvider.connection&&targetNetwork.name.indexOf(\"local\")!==-1;var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),faucetClicked=_useState10[0],setFaucetClicked=_useState10[1];if(!faucetClicked&&localProvider&&localProvider._network&&localProvider._network.chainId==31337&&yourLocalBalance&&ethers.utils.formatEther(yourLocalBalance)<=0){faucetHint=/*#__PURE__*/React.createElement(\"div\",{style:{padding:16}},/*#__PURE__*/React.createElement(Button,{type:\"primary\",onClick:function onClick(){faucetTx({to:address,value:ethers.utils.parseEther(\"0.01\")});setFaucetClicked(true);}},\"\\uD83D\\uDCB0 Grab funds from the faucet \\u26FD\\uFE0F\"));}var _useState11=useState(STARTING_JSON),_useState12=_slicedToArray(_useState11,2),yourJSON=_useState12[0],setYourJSON=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),sending=_useState14[0],setSending=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),ipfsHash=_useState16[0],setIpfsHash=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),ipfsDownHash=_useState18[0],setIpfsDownHash=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),downloading=_useState20[0],setDownloading=_useState20[1];var _useState21=useState(),_useState22=_slicedToArray(_useState21,2),ipfsContent=_useState22[0],setIpfsContent=_useState22[1];var _useState23=useState({}),_useState24=_slicedToArray(_useState23,2),transferToAddresses=_useState24[0],setTransferToAddresses=_useState24[1];return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Header,null),networkDisplay,/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(Menu,{style:{textAlign:\"center\"},selectedKeys:[route],mode:\"horizontal\"},/*#__PURE__*/React.createElement(Menu.Item,{key:\"/\"},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setRoute(\"/\");},to:\"/\"},\"YourCollectibles\")),/*#__PURE__*/React.createElement(Menu.Item,{key:\"/transfers\"},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setRoute(\"/transfers\");},to:\"/transfers\"},\"Transfers\")),/*#__PURE__*/React.createElement(Menu.Item,{key:\"/ipfsup\"},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setRoute(\"/ipfsup\");},to:\"/ipfsup\"},\"IPFS Upload\")),/*#__PURE__*/React.createElement(Menu.Item,{key:\"/ipfsdown\"},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setRoute(\"/ipfsdown\");},to:\"/ipfsdown\"},\"IPFS Download\")),/*#__PURE__*/React.createElement(Menu.Item,{key:\"/debugcontracts\"},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){setRoute(\"/debugcontracts\");},to:\"/debugcontracts\"},\"Debug Contracts\"))),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\"},/*#__PURE__*/React.createElement(\"div\",{style:{width:640,margin:\"auto\",marginTop:32,paddingBottom:32}},/*#__PURE__*/React.createElement(List,{bordered:true,dataSource:yourCollectibles,renderItem:function renderItem(item){var id=item.id.toNumber();return/*#__PURE__*/React.createElement(List.Item,{key:id+\"_\"+item.uri+\"_\"+item.owner},/*#__PURE__*/React.createElement(Card,{title:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:16,marginRight:8}},\"#\",id),\" \",item.name)},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:item.image,style:{maxWidth:150}})),/*#__PURE__*/React.createElement(\"div\",null,item.description)),/*#__PURE__*/React.createElement(\"div\",null,\"owner:\",\" \",/*#__PURE__*/React.createElement(Address,{address:item.owner,ensProvider:mainnetProvider,blockExplorer:blockExplorer,fontSize:16}),/*#__PURE__*/React.createElement(AddressInput,{ensProvider:mainnetProvider,placeholder:\"transfer to address\",value:transferToAddresses[id],onChange:function onChange(newValue){var update={};update[id]=newValue;setTransferToAddresses(_objectSpread(_objectSpread({},transferToAddresses),update));}}),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){console.log(\"writeContracts\",writeContracts);tx(writeContracts.YourCollectible.transferFrom(address,transferToAddresses[id],id));}},\"Transfer\")));}}))),/*#__PURE__*/React.createElement(Route,{path:\"/transfers\"},/*#__PURE__*/React.createElement(\"div\",{style:{width:600,margin:\"auto\",marginTop:32,paddingBottom:32}},/*#__PURE__*/React.createElement(List,{bordered:true,dataSource:transferEvents,renderItem:function renderItem(item){return/*#__PURE__*/React.createElement(List.Item,{key:item[0]+\"_\"+item[1]+\"_\"+item.blockNumber+\"_\"+item[2].toNumber()},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:16,marginRight:8}},\"#\",item[2].toNumber()),/*#__PURE__*/React.createElement(Address,{address:item[0],ensProvider:mainnetProvider,fontSize:16}),\" =>\",/*#__PURE__*/React.createElement(Address,{address:item[1],ensProvider:mainnetProvider,fontSize:16}));}}))),/*#__PURE__*/React.createElement(Route,{path:\"/ipfsup\"},/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:32,width:740,margin:\"auto\",textAlign:\"left\"}},/*#__PURE__*/React.createElement(ReactJson,{style:{padding:8},src:yourJSON,theme:\"pop\",enableClipboard:false,onEdit:function onEdit(edit,a){setYourJSON(edit.updated_src);},onAdd:function onAdd(add,a){setYourJSON(add.updated_src);},onDelete:function onDelete(del,a){setYourJSON(del.updated_src);}})),/*#__PURE__*/React.createElement(Button,{style:{margin:8},loading:sending,size:\"large\",shape:\"round\",type:\"primary\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var result;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log(\"UPLOADING...\",yourJSON);setSending(true);setIpfsHash();_context7.next=5;return ipfs.add(JSON.stringify(yourJSON));case 5:result=_context7.sent;// addToIPFS(JSON.stringify(yourJSON))\nif(result&&result.path){setIpfsHash(result.path);}setSending(false);console.log(\"RESULT:\",result);case 9:case\"end\":return _context7.stop();}}},_callee7);}))},\"Upload to IPFS\"),/*#__PURE__*/React.createElement(\"div\",{style:{padding:16,paddingBottom:150}},ipfsHash)),/*#__PURE__*/React.createElement(Route,{path:\"/ipfsdown\"},/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:32,width:740,margin:\"auto\"}},/*#__PURE__*/React.createElement(Input,{value:ipfsDownHash,placeHolder:\"IPFS hash (like QmadqNw8zkdrrwdtPFK1pLi8PPxmkQ4pDJXY8ozHtz6tZq)\",onChange:function onChange(e){setIpfsDownHash(e.target.value);}})),/*#__PURE__*/React.createElement(Button,{style:{margin:8},loading:sending,size:\"large\",shape:\"round\",type:\"primary\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var result;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:console.log(\"DOWNLOADING...\",ipfsDownHash);setDownloading(true);setIpfsContent();_context8.next=5;return getFromIPFS(ipfsDownHash);case 5:result=_context8.sent;// addToIPFS(JSON.stringify(yourJSON))\nif(result&&result.toString){setIpfsContent(result.toString());}setDownloading(false);case 8:case\"end\":return _context8.stop();}}},_callee8);}))},\"Download from IPFS\"),/*#__PURE__*/React.createElement(\"pre\",{style:{padding:16,width:500,margin:\"auto\",paddingBottom:150}},ipfsContent)),/*#__PURE__*/React.createElement(Route,{path:\"/debugcontracts\"},/*#__PURE__*/React.createElement(Contract,{name:\"YourCollectible\",signer:userSigner,provider:localProvider,address:address,blockExplorer:blockExplorer})))),/*#__PURE__*/React.createElement(ThemeSwitch,null),/*#__PURE__*/React.createElement(\"div\",{style:{position:\"fixed\",textAlign:\"right\",right:0,top:0,padding:10}},/*#__PURE__*/React.createElement(Account,{address:address,localProvider:localProvider,userSigner:userSigner,mainnetProvider:mainnetProvider,price:price,web3Modal:web3Modal,loadWeb3Modal:loadWeb3Modal,logoutOfWeb3Modal:logoutOfWeb3Modal,blockExplorer:blockExplorer}),faucetHint),/*#__PURE__*/React.createElement(\"div\",{style:{position:\"fixed\",textAlign:\"left\",left:0,bottom:20,padding:10}},/*#__PURE__*/React.createElement(Row,{align:\"middle\",gutter:[4,4]},/*#__PURE__*/React.createElement(Col,{span:8},/*#__PURE__*/React.createElement(Ramp,{price:price,address:address,networks:NETWORKS})),/*#__PURE__*/React.createElement(Col,{span:8,style:{textAlign:\"center\",opacity:0.8}},/*#__PURE__*/React.createElement(GasGauge,{gasPrice:gasPrice})),/*#__PURE__*/React.createElement(Col,{span:8,style:{textAlign:\"center\",opacity:1}},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){window.open(\"https://t.me/joinchat/KByvmRe5wkR-8F_zz6AjpA\");},size:\"large\",shape:\"round\"},/*#__PURE__*/React.createElement(\"span\",{style:{marginRight:8},role:\"img\",\"aria-label\":\"support\"},\"\\uD83D\\uDCAC\"),\"Support\"))),/*#__PURE__*/React.createElement(Row,{align:\"middle\",gutter:[4,4]},/*#__PURE__*/React.createElement(Col,{span:24},/*  if the local provider has a signer, let's show the faucet:  */faucetAvailable?/*#__PURE__*/React.createElement(Faucet,{localProvider:localProvider,price:price,ensProvider:mainnetProvider}):\"\"))));}export default App;","map":{"version":3,"sources":["C:/Users/hndls/matic-nft-tutorial/packages/react-app/src/App.jsx"],"names":["WalletConnectProvider","Alert","Button","Card","Col","Input","List","Menu","Row","React","useCallback","useEffect","useState","ReactJson","BrowserRouter","Link","Route","Switch","Web3Modal","Account","Address","AddressInput","Contract","Faucet","GasGauge","Header","Ramp","ThemeSwitch","INFURA_ID","NETWORK","NETWORKS","Transactor","useBalance","useContractLoader","useContractReader","useEventListener","useExchangePrice","useGasPrice","useOnBlock","useUserSigner","require","BufferList","ipfsAPI","ipfs","host","port","protocol","ethers","targetNetwork","mumbai","DEBUG","NETWORKCHECK","STARTING_JSON","description","external_url","image","name","attributes","trait_type","value","getFromIPFS","hashToGet","get","file","console","log","path","content","chunk","append","scaffoldEthProvider","navigator","onLine","providers","StaticJsonRpcProvider","mainnetInfura","localProviderUrl","rpcUrl","localProviderUrlFromEnv","process","env","REACT_APP_PROVIDER","localProvider","blockExplorer","web3Modal","cacheProvider","providerOptions","walletconnect","package","options","infuraId","logoutOfWeb3Modal","clearCachedProvider","setTimeout","window","location","reload","App","props","mainnetProvider","_network","injectedProvider","setInjectedProvider","address","setAddress","price","gasPrice","userSigner","getAddress","newAddress","localChainId","chainId","selectedChainId","provider","tx","faucetTx","yourLocalBalance","yourMainnetBalance","readContracts","writeContracts","mainnetContracts","_lastBlockNumber","myMainnetDAIBalance","balance","transferEvents","yourBalance","toNumber","yourCollectibles","setYourCollectibles","updateYourCollectibles","collectibleUpdate","tokenIndex","YourCollectible","tokenOfOwnerByIndex","tokenId","tokenURI","ipfsHash","replace","jsonManifestBuffer","jsonManifest","JSON","parse","toString","push","id","uri","owner","e","utils","formatEther","networkDisplay","networkSelected","networkLocal","zIndex","position","right","top","padding","ethereum","data","chainName","nativeCurrency","rpcUrls","blockExplorerUrls","request","method","params","catch","color","loadWeb3Modal","connect","Web3Provider","on","code","reason","cachedProvider","route","setRoute","pathname","faucetHint","faucetAvailable","connection","indexOf","faucetClicked","setFaucetClicked","to","parseEther","yourJSON","setYourJSON","sending","setSending","setIpfsHash","ipfsDownHash","setIpfsDownHash","downloading","setDownloading","ipfsContent","setIpfsContent","transferToAddresses","setTransferToAddresses","textAlign","width","margin","marginTop","paddingBottom","item","fontSize","marginRight","maxWidth","newValue","update","transferFrom","blockNumber","paddingTop","edit","a","updated_src","add","del","stringify","result","target","left","bottom","opacity","open"],"mappings":"4xBAAA,MAAOA,CAAAA,qBAAP,KAAkC,8BAAlC,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,IAAxB,CAA8BC,GAA9B,CAAmCC,KAAnC,CAA0CC,IAA1C,CAAgDC,IAAhD,CAAsDC,GAAtD,KAAiE,MAAjE,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,OAASC,aAAT,CAAwBC,IAAxB,CAA8BC,KAA9B,CAAqCC,MAArC,KAAmD,kBAAnD,CACA,MAAOC,CAAAA,SAAP,KAAsB,WAAtB,CACA,MAAO,WAAP,CACA,OAASC,OAAT,CAAkBC,OAAlB,CAA2BC,YAA3B,CAAyCC,QAAzC,CAAmDC,MAAnD,CAA2DC,QAA3D,CAAqEC,MAArE,CAA6EC,IAA7E,CAAmFC,WAAnF,KAAsG,cAAtG,CACA,OAAQC,SAAR,CAAmBC,OAAnB,CAA4BC,QAA5B,KAA4C,aAA5C,CACA,OAASC,UAAT,KAA2B,WAA3B,CACA,OACEC,UADF,CAEEC,iBAFF,CAGEC,iBAHF,CAIEC,gBAJF,CAKEC,gBALF,CAMEC,WANF,CAOEC,UAPF,CAQEC,aARF,KASO,SATP,C,aAWuBC,OAAO,CAAC,IAAD,C,CAAtBC,U,UAAAA,U,CACR;AACA,GAAMC,CAAAA,OAAO,CAAGF,OAAO,CAAC,kBAAD,CAAvB,CACA,GAAMG,CAAAA,IAAI,CAAGD,OAAO,CAAC,CAAEE,IAAI,CAAE,gBAAR,CAA0BC,IAAI,CAAE,MAAhC,CAAwCC,QAAQ,CAAE,OAAlD,CAAD,CAApB,C,cAEmBN,OAAO,CAAC,QAAD,C,CAAlBO,M,WAAAA,M,CAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E,CAEA;AACA,GAAMC,CAAAA,aAAa,CAAGlB,QAAQ,CAACmB,MAA/B,CAAuC;AAEvC;AACA,GAAMC,CAAAA,KAAK,CAAG,IAAd,CACA,GAAMC,CAAAA,YAAY,CAAG,IAArB,CAEA;AACA,GAAMC,CAAAA,aAAa,CAAG,CACpBC,WAAW,CAAE,wBADO,CAEpBC,YAAY,CAAE,iDAFM,CAE6C;AACjEC,KAAK,CAAE,yDAHa,CAIpBC,IAAI,CAAE,SAJc,CAKpBC,UAAU,CAAE,CACV,CACEC,UAAU,CAAE,iBADd,CAEEC,KAAK,CAAE,OAFT,CADU,CAKV,CACED,UAAU,CAAE,MADd,CAEEC,KAAK,CAAE,QAFT,CALU,CALQ,CAAtB,CAiBA;AACA;AACA,GAAMC,CAAAA,WAAW,0FAAG,iBAAMC,SAAN,mZACOlB,IAAI,CAACmB,GAAL,CAASD,SAAT,CADP,wOACDE,IADC,QAEhBC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB,EAFgB,GAGXH,IAAI,CAACI,OAHM,wEAIVA,OAJU,CAIA,GAAI1B,CAAAA,UAAJ,EAJA,qGAKUsB,IAAI,CAACI,OALf,kPAKCC,KALD,SAMdD,OAAO,CAACE,MAAR,CAAeD,KAAf,EANc,oiBAQhBJ,OAAO,CAACC,GAAR,CAAYE,OAAZ,EARgB,gCASTA,OATS,qoBAAH,kBAAXP,CAAAA,WAAW,4CAAjB,CAaA;AACA,GAAIV,KAAJ,CAAWc,OAAO,CAACC,GAAR,CAAY,mCAAZ,EACX;AACA;AACA;AACA;AACA;AACA,GAAMK,CAAAA,mBAAmB,CAAGC,SAAS,CAACC,MAAV,CAAmB,GAAIzB,CAAAA,MAAM,CAAC0B,SAAP,CAAiBC,qBAArB,CAA2C,kCAA3C,CAAnB,CAAoG,IAAhI,CACA,GAAMC,CAAAA,aAAa,CAAGJ,SAAS,CAACC,MAAV,CAAmB,GAAIzB,CAAAA,MAAM,CAAC0B,SAAP,CAAiBC,qBAArB,CAA2C,gCAAkC9C,SAA7E,CAAnB,CAA6G,IAAnI,CACA;AAEA;AACA,GAAMgD,CAAAA,gBAAgB,CAAG5B,aAAa,CAAC6B,MAAvC,CACA;AACA,GAAMC,CAAAA,uBAAuB,CAAGC,OAAO,CAACC,GAAR,CAAYC,kBAAZ,CAAiCF,OAAO,CAACC,GAAR,CAAYC,kBAA7C,CAAkEL,gBAAlG,CACA,GAAI1B,KAAJ,CAAWc,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0Ca,uBAA1C,EACX,GAAMI,CAAAA,aAAa,CAAG,GAAInC,CAAAA,MAAM,CAAC0B,SAAP,CAAiBC,qBAArB,CAA2CI,uBAA3C,CAAtB,CAEA;AACA,GAAMK,CAAAA,aAAa,CAAGnC,aAAa,CAACmC,aAApC,CAEA;AACA;AACA,EACA,GAAMC,CAAAA,SAAS,CAAG,GAAIlE,CAAAA,SAAJ,CAAc,CAC9B;AACAmE,aAAa,CAAE,IAFe,CAET;AACrBC,eAAe,CAAE,CACfC,aAAa,CAAE,CACbC,OAAO,CAAExF,qBADI,CACmB;AAChCyF,OAAO,CAAE,CACPC,QAAQ,CAAE9D,SADH,CAFI,CADA,CAHa,CAAd,CAAlB,CAaA,GAAM+D,CAAAA,iBAAiB,2FAAG,+JAClBP,CAAAA,SAAS,CAACQ,mBAAV,EADkB,QAExBC,UAAU,CAAC,UAAM,CACfC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFS,CAEP,CAFO,CAAV,CAFwB,wDAAH,kBAAjBL,CAAAA,iBAAiB,2CAAvB,CAOA,QAASM,CAAAA,GAAT,CAAaC,KAAb,CAAoB,CAClB,GAAMC,CAAAA,eAAe,CAAG7B,mBAAmB,EAAIA,mBAAmB,CAAC8B,QAA3C,CAAsD9B,mBAAtD,CAA4EK,aAApG,CADkB,cAG8B/D,QAAQ,EAHtC,wCAGXyF,gBAHW,eAGOC,mBAHP,8BAIY1F,QAAQ,EAJpB,yCAIX2F,OAJW,eAIFC,UAJE,eAKlB,6DACA,GAAMC,CAAAA,KAAK,CAAGrE,gBAAgB,CAACY,aAAD,CAAgBmD,eAAhB,CAA9B,CAEA,oEACA,GAAMO,CAAAA,QAAQ,CAAGrE,WAAW,CAACW,aAAD,CAAgB,MAAhB,CAA5B,CACA;AACA,GAAM2D,CAAAA,UAAU,CAAGpE,aAAa,CAAC8D,gBAAD,CAAmBnB,aAAnB,CAAhC,CAEAvE,SAAS,CAAC,UAAM,SACCiG,CAAAA,UADD,wIACd,2JACMD,UADN,iDAE6BA,CAAAA,UAAU,CAACC,UAAX,EAF7B,QAEUC,UAFV,gBAGIL,UAAU,CAACK,UAAD,CAAV,CAHJ,wDADc,6CAOdD,UAAU,GACX,CARQ,CAQN,CAACD,UAAD,CARM,CAAT,CAUA;AACA,GAAMG,CAAAA,YAAY,CAAG5B,aAAa,EAAIA,aAAa,CAACkB,QAA/B,EAA2ClB,aAAa,CAACkB,QAAd,CAAuBW,OAAvF,CACA,GAAMC,CAAAA,eAAe,CACnBL,UAAU,EAAIA,UAAU,CAACM,QAAzB,EAAqCN,UAAU,CAACM,QAAX,CAAoBb,QAAzD,EAAqEO,UAAU,CAACM,QAAX,CAAoBb,QAApB,CAA6BW,OADpG,CAGA;AAEA;AACA,GAAMG,CAAAA,EAAE,CAAGnF,UAAU,CAAC4E,UAAD,CAAaD,QAAb,CAArB,CAEA;AACA,GAAMS,CAAAA,QAAQ,CAAGpF,UAAU,CAACmD,aAAD,CAAgBwB,QAAhB,CAA3B,CAEA;AACA,GAAMU,CAAAA,gBAAgB,CAAGpF,UAAU,CAACkD,aAAD,CAAgBqB,OAAhB,CAAnC,CAEA;AACA,GAAMc,CAAAA,kBAAkB,CAAGrF,UAAU,CAACmE,eAAD,CAAkBI,OAAlB,CAArC,CAEA;AACA,GAAMe,CAAAA,aAAa,CAAGrF,iBAAiB,CAACiD,aAAD,CAAvC,CAEA;AACA,GAAMqC,CAAAA,cAAc,CAAGtF,iBAAiB,CAAC0E,UAAD,CAAa,CAAEI,OAAO,CAAED,YAAX,CAAb,CAAxC,CAEA;AACA;AACA;AACA,GAAMU,CAAAA,gBAAgB,CAAGvF,iBAAiB,CAACkE,eAAD,CAA1C,CAEA;AACA7D,UAAU,CAAC6D,eAAD,CAAkB,UAAM,CAChCnC,OAAO,CAACC,GAAR,+CAA8CkC,eAAe,CAACsB,gBAA9D,GACD,CAFS,CAAV,CAIA;AACA,GAAMC,CAAAA,mBAAmB,CAAGxF,iBAAiB,CAACsF,gBAAD,CAAmB,KAAnB,CAA0B,WAA1B,CAAuC,CAClF,4CADkF,CAAvC,CAA7C,CAIA;AACA,GAAMG,CAAAA,OAAO,CAAGzF,iBAAiB,CAACoF,aAAD,CAAgB,iBAAhB,CAAmC,WAAnC,CAAgD,CAACf,OAAD,CAAhD,CAAjC,CACAvC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2B0D,OAA3B,EAEA;AACA,GAAMC,CAAAA,cAAc,CAAGzF,gBAAgB,CAACmF,aAAD,CAAgB,iBAAhB,CAAmC,UAAnC,CAA+CpC,aAA/C,CAA8D,CAA9D,CAAvC,CACAlB,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmC2D,cAAnC,EAEA;AACA;AACA;AACA,GAAMC,CAAAA,WAAW,CAAGF,OAAO,EAAIA,OAAO,CAACG,QAAnB,EAA+BH,OAAO,CAACG,QAAR,EAAnD,CA1EkB,eA2E8BlH,QAAQ,EA3EtC,yCA2EXmH,gBA3EW,eA2EOC,mBA3EP,eA6ElBrH,SAAS,CAAC,UAAM,CACd,GAAMsH,CAAAA,sBAAsB,2FAAG,oOACvBC,iBADuB,CACH,EADG,CAEpBC,UAFoB,CAEP,CAFO,aAEJA,UAAU,CAAGR,OAFT,6CAIzB3D,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmCkE,UAAnC,EAJyB,uBAKHb,CAAAA,aAAa,CAACc,eAAd,CAA8BC,mBAA9B,CAAkD9B,OAAlD,CAA2D4B,UAA3D,CALG,QAKnBG,OALmB,gBAMzBtE,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBqE,OAAvB,EANyB,wBAOFhB,CAAAA,aAAa,CAACc,eAAd,CAA8BG,QAA9B,CAAuCD,OAAvC,CAPE,SAOnBC,QAPmB,gBAQzBvE,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBsE,QAAxB,EAEMC,SAVmB,CAURD,QAAQ,CAACE,OAAT,CAAiB,uBAAjB,CAA0C,EAA1C,CAVQ,CAWzBzE,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBuE,SAAxB,EAXyB,wBAaQ5E,CAAAA,WAAW,CAAC4E,SAAD,CAbnB,SAanBE,kBAbmB,gBAezB,GAAI,CACIC,YADJ,CACmBC,IAAI,CAACC,KAAL,CAAWH,kBAAkB,CAACI,QAAnB,EAAX,CADnB,CAEF9E,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4B0E,YAA5B,EACAT,iBAAiB,CAACa,IAAlB,gBAAyBC,EAAE,CAAEV,OAA7B,CAAsCW,GAAG,CAAEV,QAA3C,CAAqDW,KAAK,CAAE3C,OAA5D,EAAwEoC,YAAxE,GACD,CAAC,MAAOQ,CAAP,CAAU,CACVnF,OAAO,CAACC,GAAR,CAAYkF,CAAZ,EACD,CArBwB,qFAuBzBnF,OAAO,CAACC,GAAR,eAvByB,QAEkBkE,UAAU,EAF5B,gCA0B7BH,mBAAmB,CAACE,iBAAD,CAAnB,CA1B6B,uEAAH,kBAAtBD,CAAAA,sBAAsB,2CAA5B,CA4BAA,sBAAsB,GACvB,CA9BQ,CA8BN,CAAC1B,OAAD,CAAUsB,WAAV,CA9BM,CAAT,CAgCA;AACF;AACA;AACA,IAhHoB,CAkHlB;AACA;AACA;AACAlH,SAAS,CAAC,UAAM,CACd,GACEuC,KAAK,EACLiD,eADA,EAEAI,OAFA,EAGAS,eAHA,EAIAI,gBAJA,EAKAC,kBALA,EAMAC,aANA,EAOAC,cAPA,EAQAC,gBATF,CAUE,CACAxD,OAAO,CAACC,GAAR,CAAY,6FAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCkC,eAAlC,EACAnC,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+B6C,YAA/B,EACA9C,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAuCsC,OAAvC,EACAvC,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwC+C,eAAxC,EACAhD,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmCmD,gBAAgB,CAAGrE,MAAM,CAACqG,KAAP,CAAaC,WAAb,CAAyBjC,gBAAzB,CAAH,CAAgD,KAAnG,EACApD,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCoD,kBAAkB,CAAGtE,MAAM,CAACqG,KAAP,CAAaC,WAAb,CAAyBhC,kBAAzB,CAAH,CAAkD,KAAzG,EACArD,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCqD,aAAhC,EACAtD,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2CuD,gBAA3C,EACAxD,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwCyD,mBAAxC,EACA1D,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCsD,cAAjC,EACD,CACF,CAxBQ,CAwBN,CACDpB,eADC,CAEDI,OAFC,CAGDS,eAHC,CAIDI,gBAJC,CAKDC,kBALC,CAMDC,aANC,CAODC,cAPC,CAQDC,gBARC,CAxBM,CAAT,CAmCA,GAAI8B,CAAAA,cAAc,CAAG,EAArB,CACA,GAAInG,YAAY,EAAI2D,YAAhB,EAAgCE,eAAhC,EAAmDF,YAAY,GAAKE,eAAxE,CAAyF,CACvF,GAAMuC,CAAAA,eAAe,CAAG1H,OAAO,CAACmF,eAAD,CAA/B,CACA,GAAMwC,CAAAA,YAAY,CAAG3H,OAAO,CAACiF,YAAD,CAA5B,CACA,GAAIE,eAAe,GAAK,IAApB,EAA4BF,YAAY,GAAK,KAAjD,CAAwD,CACtDwC,cAAc,cACZ,2BAAK,KAAK,CAAE,CAAEG,MAAM,CAAE,CAAV,CAAaC,QAAQ,CAAE,UAAvB,CAAmCC,KAAK,CAAE,CAA1C,CAA6CC,GAAG,CAAE,EAAlD,CAAsDC,OAAO,CAAE,EAA/D,CAAZ,eACE,oBAAC,KAAD,EACE,OAAO,CAAC,+BADV,CAEE,WAAW,cACT,wDACW,6CADX,6DAC2E,qCAD3E,uCAGE,yFAHF,CAHJ,CASE,IAAI,CAAC,OATP,CAUE,QAAQ,CAAE,KAVZ,EADF,CADF,CAgBD,CAjBD,IAiBO,CACLP,cAAc,cACZ,2BAAK,KAAK,CAAE,CAAEG,MAAM,CAAE,CAAV,CAAaC,QAAQ,CAAE,UAAvB,CAAmCC,KAAK,CAAE,CAA1C,CAA6CC,GAAG,CAAE,EAAlD,CAAsDC,OAAO,CAAE,EAA/D,CAAZ,eACE,oBAAC,KAAD,EACE,OAAO,CAAC,4BADV,CAEE,WAAW,cACT,wDACW,6BAAIN,eAAe,EAAIA,eAAe,CAAC/F,IAAvC,CADX,mCAC2F,GAD3F,cAEE,oBAAC,MAAD,EACE,OAAO,sEAAE,6JACDsG,QADC,CACUhE,MAAM,CAACgE,QADjB,CAEDC,IAFC,CAEM,CACX,CACEhD,OAAO,CAAE,KAAO/D,aAAa,CAAC+D,OAAd,CAAsB+B,QAAtB,CAA+B,EAA/B,CADlB,CAEEkB,SAAS,CAAEhH,aAAa,CAACQ,IAF3B,CAGEyG,cAAc,CAAEjH,aAAa,CAACiH,cAHhC,CAIEC,OAAO,CAAE,CAAClH,aAAa,CAAC6B,MAAf,CAJX,CAKEsF,iBAAiB,CAAE,CAACnH,aAAa,CAACmC,aAAf,CALrB,CADW,CAFN,CAWPnB,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoB8F,IAApB,EAXO,uBAYUD,CAAAA,QAAQ,CAACM,OAAT,CAAiB,CAAEC,MAAM,CAAE,yBAAV,CAAqCC,MAAM,CAAEP,IAA7C,CAAjB,EAAsEQ,KAAtE,EAZV,QAYDrD,EAZC,gBAaP,GAAIA,EAAJ,CAAQ,CACNlD,OAAO,CAACC,GAAR,CAAYiD,EAAZ,EACD,CAfM,wDAAF,EADT,eAmBE,6BAAIsC,YAAY,EAAIA,YAAY,CAAChG,IAAjC,CAnBF,CAFF,KAHJ,CA4BE,IAAI,CAAC,OA5BP,CA6BE,QAAQ,CAAE,KA7BZ,EADF,CADF,CAmCD,CACF,CAzDD,IAyDO,CACL8F,cAAc,cACZ,2BAAK,KAAK,CAAE,CAAEG,MAAM,CAAE,CAAC,CAAX,CAAcC,QAAQ,CAAE,UAAxB,CAAoCC,KAAK,CAAE,GAA3C,CAAgDC,GAAG,CAAE,EAArD,CAAyDC,OAAO,CAAE,EAAlE,CAAsEW,KAAK,CAAExH,aAAa,CAACwH,KAA3F,CAAZ,EACGxH,aAAa,CAACQ,IADjB,CADF,CAKD,CAED,GAAMiH,CAAAA,aAAa,CAAG/J,WAAW,sEAAC,4KACT0E,CAAAA,SAAS,CAACsF,OAAV,EADS,QAC1BzD,QAD0B,gBAEhCX,mBAAmB,CAAC,GAAIvD,CAAAA,MAAM,CAAC0B,SAAP,CAAiBkG,YAArB,CAAkC1D,QAAlC,CAAD,CAAnB,CAEAA,QAAQ,CAAC2D,EAAT,CAAY,cAAZ,CAA4B,SAAA7D,OAAO,CAAI,CACrC/C,OAAO,CAACC,GAAR,4BAAgC8C,OAAhC,0BACAT,mBAAmB,CAAC,GAAIvD,CAAAA,MAAM,CAAC0B,SAAP,CAAiBkG,YAArB,CAAkC1D,QAAlC,CAAD,CAAnB,CACD,CAHD,EAKAA,QAAQ,CAAC2D,EAAT,CAAY,iBAAZ,CAA+B,UAAM,CACnC5G,OAAO,CAACC,GAAR,qBACAqC,mBAAmB,CAAC,GAAIvD,CAAAA,MAAM,CAAC0B,SAAP,CAAiBkG,YAArB,CAAkC1D,QAAlC,CAAD,CAAnB,CACD,CAHD,EAKA;AACAA,QAAQ,CAAC2D,EAAT,CAAY,YAAZ,CAA0B,SAACC,IAAD,CAAOC,MAAP,CAAkB,CAC1C9G,OAAO,CAACC,GAAR,CAAY4G,IAAZ,CAAkBC,MAAlB,EACAnF,iBAAiB,GAClB,CAHD,EAfgC,wDAAD,GAmB9B,CAACW,mBAAD,CAnB8B,CAAjC,CAqBA3F,SAAS,CAAC,UAAM,CACd,GAAIyE,SAAS,CAAC2F,cAAd,CAA8B,CAC5BN,aAAa,GACd,CACF,CAJQ,CAIN,CAACA,aAAD,CAJM,CAAT,CA/OkB,eAqPQ7J,QAAQ,EArPhB,yCAqPXoK,KArPW,eAqPJC,QArPI,eAsPlBtK,SAAS,CAAC,UAAM,CACdsK,QAAQ,CAACnF,MAAM,CAACC,QAAP,CAAgBmF,QAAjB,CAAR,CACD,CAFQ,CAEN,CAACD,QAAD,CAFM,CAAT,CAIA,GAAIE,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAMC,CAAAA,eAAe,CAAGlG,aAAa,EAAIA,aAAa,CAACmG,UAA/B,EAA6CrI,aAAa,CAACQ,IAAd,CAAmB8H,OAAnB,CAA2B,OAA3B,IAAwC,CAAC,CAA9G,CA3PkB,eA6PwB1K,QAAQ,CAAC,KAAD,CA7PhC,0CA6PX2K,aA7PW,gBA6PIC,gBA7PJ,gBA8PlB,GACE,CAACD,aAAD,EACArG,aADA,EAEAA,aAAa,CAACkB,QAFd,EAGAlB,aAAa,CAACkB,QAAd,CAAuBW,OAAvB,EAAkC,KAHlC,EAIAK,gBAJA,EAKArE,MAAM,CAACqG,KAAP,CAAaC,WAAb,CAAyBjC,gBAAzB,GAA8C,CANhD,CAOE,CACA+D,UAAU,cACR,2BAAK,KAAK,CAAE,CAAEtB,OAAO,CAAE,EAAX,CAAZ,eACE,oBAAC,MAAD,EACE,IAAI,CAAC,SADP,CAEE,OAAO,CAAE,kBAAM,CACb1C,QAAQ,CAAC,CACPsE,EAAE,CAAElF,OADG,CAEP5C,KAAK,CAAEZ,MAAM,CAACqG,KAAP,CAAasC,UAAb,CAAwB,MAAxB,CAFA,CAAD,CAAR,CAIAF,gBAAgB,CAAC,IAAD,CAAhB,CACD,CARH,yDADF,CADF,CAgBD,CAtRiB,gBAwRc5K,QAAQ,CAACwC,aAAD,CAxRtB,2CAwRXuI,QAxRW,gBAwRDC,WAxRC,gCAyRYhL,QAAQ,EAzRpB,2CAyRXiL,OAzRW,gBAyRFC,UAzRE,gCA0RclL,QAAQ,EA1RtB,2CA0RX4H,QA1RW,gBA0RDuD,WA1RC,gCA2RsBnL,QAAQ,EA3R9B,2CA2RXoL,YA3RW,gBA2RGC,eA3RH,gCA6RoBrL,QAAQ,EA7R5B,2CA6RXsL,WA7RW,gBA6REC,cA7RF,gCA8RoBvL,QAAQ,EA9R5B,2CA8RXwL,WA9RW,gBA8REC,cA9RF,gCAgSoCzL,QAAQ,CAAC,EAAD,CAhS5C,2CAgSX0L,mBAhSW,gBAgSUC,sBAhSV,gBAkSlB,mBACE,2BAAK,SAAS,CAAC,KAAf,eAEE,oBAAC,MAAD,MAFF,CAGGjD,cAHH,cAIE,oBAAC,aAAD,mBACE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEkD,SAAS,CAAE,QAAb,CAAb,CAAsC,YAAY,CAAE,CAACxB,KAAD,CAApD,CAA6D,IAAI,CAAC,YAAlE,eACE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,GAAf,eACE,oBAAC,IAAD,EACE,OAAO,CAAE,kBAAM,CACbC,QAAQ,CAAC,GAAD,CAAR,CACD,CAHH,CAIE,EAAE,CAAC,GAJL,qBADF,CADF,cAWE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,YAAf,eACE,oBAAC,IAAD,EACE,OAAO,CAAE,kBAAM,CACbA,QAAQ,CAAC,YAAD,CAAR,CACD,CAHH,CAIE,EAAE,CAAC,YAJL,cADF,CAXF,cAqBE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,SAAf,eACE,oBAAC,IAAD,EACE,OAAO,CAAE,kBAAM,CACbA,QAAQ,CAAC,SAAD,CAAR,CACD,CAHH,CAIE,EAAE,CAAC,SAJL,gBADF,CArBF,cA+BE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,WAAf,eACE,oBAAC,IAAD,EACE,OAAO,CAAE,kBAAM,CACbA,QAAQ,CAAC,WAAD,CAAR,CACD,CAHH,CAIE,EAAE,CAAC,WAJL,kBADF,CA/BF,cAyCE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAC,iBAAf,eACE,oBAAC,IAAD,EACE,OAAO,CAAE,kBAAM,CACbA,QAAQ,CAAC,iBAAD,CAAR,CACD,CAHH,CAIE,EAAE,CAAC,iBAJL,oBADF,CAzCF,CADF,cAsDE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,eAME,2BAAK,KAAK,CAAE,CAAEwB,KAAK,CAAE,GAAT,CAAcC,MAAM,CAAE,MAAtB,CAA8BC,SAAS,CAAE,EAAzC,CAA6CC,aAAa,CAAE,EAA5D,CAAZ,eACE,oBAAC,IAAD,EACE,QAAQ,KADV,CAEE,UAAU,CAAE7E,gBAFd,CAGE,UAAU,CAAE,oBAAA8E,IAAI,CAAI,CAClB,GAAM7D,CAAAA,EAAE,CAAG6D,IAAI,CAAC7D,EAAL,CAAQlB,QAAR,EAAX,CACA,mBACE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAEkB,EAAE,CAAG,GAAL,CAAW6D,IAAI,CAAC5D,GAAhB,CAAsB,GAAtB,CAA4B4D,IAAI,CAAC3D,KAAjD,eACE,oBAAC,IAAD,EACE,KAAK,cACH,4CACE,4BAAM,KAAK,CAAE,CAAE4D,QAAQ,CAAE,EAAZ,CAAgBC,WAAW,CAAE,CAA7B,CAAb,MAAiD/D,EAAjD,CADF,KAC+D6D,IAAI,CAACrJ,IADpE,CAFJ,eAOE,4CACE,2BAAK,GAAG,CAAEqJ,IAAI,CAACtJ,KAAf,CAAsB,KAAK,CAAE,CAAEyJ,QAAQ,CAAE,GAAZ,CAA7B,EADF,CAPF,cAUE,+BAAMH,IAAI,CAACxJ,WAAX,CAVF,CADF,cAcE,wCACS,GADT,cAEE,oBAAC,OAAD,EACE,OAAO,CAAEwJ,IAAI,CAAC3D,KADhB,CAEE,WAAW,CAAE/C,eAFf,CAGE,aAAa,CAAEhB,aAHjB,CAIE,QAAQ,CAAE,EAJZ,EAFF,cAQE,oBAAC,YAAD,EACE,WAAW,CAAEgB,eADf,CAEE,WAAW,CAAC,qBAFd,CAGE,KAAK,CAAEmG,mBAAmB,CAACtD,EAAD,CAH5B,CAIE,QAAQ,CAAE,kBAAAiE,QAAQ,CAAI,CACpB,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACAA,MAAM,CAAClE,EAAD,CAAN,CAAaiE,QAAb,CACAV,sBAAsB,gCAAMD,mBAAN,EAA8BY,MAA9B,EAAtB,CACD,CARH,EARF,cAkBE,oBAAC,MAAD,EACE,OAAO,CAAE,kBAAM,CACblJ,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BsD,cAA9B,EACAL,EAAE,CAACK,cAAc,CAACa,eAAf,CAA+B+E,YAA/B,CAA4C5G,OAA5C,CAAqD+F,mBAAmB,CAACtD,EAAD,CAAxE,CAA8EA,EAA9E,CAAD,CAAF,CACD,CAJH,aAlBF,CAdF,CADF,CA4CD,CAjDH,EADF,CANF,CADF,cA8DE,oBAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,eACE,2BAAK,KAAK,CAAE,CAAEyD,KAAK,CAAE,GAAT,CAAcC,MAAM,CAAE,MAAtB,CAA8BC,SAAS,CAAE,EAAzC,CAA6CC,aAAa,CAAE,EAA5D,CAAZ,eACE,oBAAC,IAAD,EACE,QAAQ,KADV,CAEE,UAAU,CAAEhF,cAFd,CAGE,UAAU,CAAE,oBAAAiF,IAAI,CAAI,CAClB,mBACE,oBAAC,IAAD,CAAM,IAAN,EAAW,GAAG,CAAEA,IAAI,CAAC,CAAD,CAAJ,CAAU,GAAV,CAAgBA,IAAI,CAAC,CAAD,CAApB,CAA0B,GAA1B,CAAgCA,IAAI,CAACO,WAArC,CAAmD,GAAnD,CAAyDP,IAAI,CAAC,CAAD,CAAJ,CAAQ/E,QAAR,EAAzE,eACE,4BAAM,KAAK,CAAE,CAAEgF,QAAQ,CAAE,EAAZ,CAAgBC,WAAW,CAAE,CAA7B,CAAb,MAAiDF,IAAI,CAAC,CAAD,CAAJ,CAAQ/E,QAAR,EAAjD,CADF,cAEE,oBAAC,OAAD,EAAS,OAAO,CAAE+E,IAAI,CAAC,CAAD,CAAtB,CAA2B,WAAW,CAAE1G,eAAxC,CAAyD,QAAQ,CAAE,EAAnE,EAFF,oBAGE,oBAAC,OAAD,EAAS,OAAO,CAAE0G,IAAI,CAAC,CAAD,CAAtB,CAA2B,WAAW,CAAE1G,eAAxC,CAAyD,QAAQ,CAAE,EAAnE,EAHF,CADF,CAOD,CAXH,EADF,CADF,CA9DF,cAgFE,oBAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,eACE,2BAAK,KAAK,CAAE,CAAEkH,UAAU,CAAE,EAAd,CAAkBZ,KAAK,CAAE,GAAzB,CAA8BC,MAAM,CAAE,MAAtC,CAA8CF,SAAS,CAAE,MAAzD,CAAZ,eACE,oBAAC,SAAD,EACE,KAAK,CAAE,CAAE3C,OAAO,CAAE,CAAX,CADT,CAEE,GAAG,CAAE8B,QAFP,CAGE,KAAK,CAAC,KAHR,CAIE,eAAe,CAAE,KAJnB,CAKE,MAAM,CAAE,gBAAC2B,IAAD,CAAOC,CAAP,CAAa,CACnB3B,WAAW,CAAC0B,IAAI,CAACE,WAAN,CAAX,CACD,CAPH,CAQE,KAAK,CAAE,eAACC,GAAD,CAAMF,CAAN,CAAY,CACjB3B,WAAW,CAAC6B,GAAG,CAACD,WAAL,CAAX,CACD,CAVH,CAWE,QAAQ,CAAE,kBAACE,GAAD,CAAMH,CAAN,CAAY,CACpB3B,WAAW,CAAC8B,GAAG,CAACF,WAAL,CAAX,CACD,CAbH,EADF,CADF,cAmBE,oBAAC,MAAD,EACE,KAAK,CAAE,CAAEd,MAAM,CAAE,CAAV,CADT,CAEE,OAAO,CAAEb,OAFX,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAC,OAJR,CAKE,IAAI,CAAC,SALP,CAME,OAAO,sEAAE,mJACP7H,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4B0H,QAA5B,EACAG,UAAU,CAAC,IAAD,CAAV,CACAC,WAAW,GAHJ,uBAIcpJ,CAAAA,IAAI,CAAC8K,GAAL,CAAS7E,IAAI,CAAC+E,SAAL,CAAehC,QAAf,CAAT,CAJd,QAIDiC,MAJC,gBAIkD;AACzD,GAAIA,MAAM,EAAIA,MAAM,CAAC1J,IAArB,CAA2B,CACzB6H,WAAW,CAAC6B,MAAM,CAAC1J,IAAR,CAAX,CACD,CACD4H,UAAU,CAAC,KAAD,CAAV,CACA9H,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuB2J,MAAvB,EATO,wDAAF,EANT,mBAnBF,cAwCE,2BAAK,KAAK,CAAE,CAAE/D,OAAO,CAAE,EAAX,CAAe+C,aAAa,CAAE,GAA9B,CAAZ,EAAkDpE,QAAlD,CAxCF,CAhFF,cA0HE,oBAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,eACE,2BAAK,KAAK,CAAE,CAAE6E,UAAU,CAAE,EAAd,CAAkBZ,KAAK,CAAE,GAAzB,CAA8BC,MAAM,CAAE,MAAtC,CAAZ,eACE,oBAAC,KAAD,EACE,KAAK,CAAEV,YADT,CAEE,WAAW,CAAC,iEAFd,CAGE,QAAQ,CAAE,kBAAA7C,CAAC,CAAI,CACb8C,eAAe,CAAC9C,CAAC,CAAC0E,MAAF,CAASlK,KAAV,CAAf,CACD,CALH,EADF,CADF,cAUE,oBAAC,MAAD,EACE,KAAK,CAAE,CAAE+I,MAAM,CAAE,CAAV,CADT,CAEE,OAAO,CAAEb,OAFX,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAC,OAJR,CAKE,IAAI,CAAC,SALP,CAME,OAAO,sEAAE,mJACP7H,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8B+H,YAA9B,EACAG,cAAc,CAAC,IAAD,CAAd,CACAE,cAAc,GAHP,uBAIczI,CAAAA,WAAW,CAACoI,YAAD,CAJzB,QAID4B,MAJC,gBAIyC;AAChD,GAAIA,MAAM,EAAIA,MAAM,CAAC9E,QAArB,CAA+B,CAC7BuD,cAAc,CAACuB,MAAM,CAAC9E,QAAP,EAAD,CAAd,CACD,CACDqD,cAAc,CAAC,KAAD,CAAd,CARO,wDAAF,EANT,uBAVF,cA8BE,2BAAK,KAAK,CAAE,CAAEtC,OAAO,CAAE,EAAX,CAAe4C,KAAK,CAAE,GAAtB,CAA2BC,MAAM,CAAE,MAAnC,CAA2CE,aAAa,CAAE,GAA1D,CAAZ,EAA8ER,WAA9E,CA9BF,CA1HF,cA0JE,oBAAC,KAAD,EAAO,IAAI,CAAC,iBAAZ,eACE,oBAAC,QAAD,EACE,IAAI,CAAC,iBADP,CAEE,MAAM,CAAEzF,UAFV,CAGE,QAAQ,CAAEzB,aAHZ,CAIE,OAAO,CAAEqB,OAJX,CAKE,aAAa,CAAEpB,aALjB,EADF,CA1JF,CAtDF,CAJF,cAgOE,oBAAC,WAAD,MAhOF,cAmOE,2BAAK,KAAK,CAAE,CAAEuE,QAAQ,CAAE,OAAZ,CAAqB8C,SAAS,CAAE,OAAhC,CAAyC7C,KAAK,CAAE,CAAhD,CAAmDC,GAAG,CAAE,CAAxD,CAA2DC,OAAO,CAAE,EAApE,CAAZ,eACE,oBAAC,OAAD,EACE,OAAO,CAAEtD,OADX,CAEE,aAAa,CAAErB,aAFjB,CAGE,UAAU,CAAEyB,UAHd,CAIE,eAAe,CAAER,eAJnB,CAKE,KAAK,CAAEM,KALT,CAME,SAAS,CAAErB,SANb,CAOE,aAAa,CAAEqF,aAPjB,CAQE,iBAAiB,CAAE9E,iBARrB,CASE,aAAa,CAAER,aATjB,EADF,CAYGgG,UAZH,CAnOF,cAmPE,2BAAK,KAAK,CAAE,CAAEzB,QAAQ,CAAE,OAAZ,CAAqB8C,SAAS,CAAE,MAAhC,CAAwCsB,IAAI,CAAE,CAA9C,CAAiDC,MAAM,CAAE,EAAzD,CAA6DlE,OAAO,CAAE,EAAtE,CAAZ,eACE,oBAAC,GAAD,EAAK,KAAK,CAAC,QAAX,CAAoB,MAAM,CAAE,CAAC,CAAD,CAAI,CAAJ,CAA5B,eACE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,eACE,oBAAC,IAAD,EAAM,KAAK,CAAEpD,KAAb,CAAoB,OAAO,CAAEF,OAA7B,CAAsC,QAAQ,CAAEzE,QAAhD,EADF,CADF,cAKE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,KAAK,CAAE,CAAE0K,SAAS,CAAE,QAAb,CAAuBwB,OAAO,CAAE,GAAhC,CAArB,eACE,oBAAC,QAAD,EAAU,QAAQ,CAAEtH,QAApB,EADF,CALF,cAQE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,KAAK,CAAE,CAAE8F,SAAS,CAAE,QAAb,CAAuBwB,OAAO,CAAE,CAAhC,CAArB,eACE,oBAAC,MAAD,EACE,OAAO,CAAE,kBAAM,CACblI,MAAM,CAACmI,IAAP,CAAY,8CAAZ,EACD,CAHH,CAIE,IAAI,CAAC,OAJP,CAKE,KAAK,CAAC,OALR,eAOE,4BAAM,KAAK,CAAE,CAAElB,WAAW,CAAE,CAAf,CAAb,CAAiC,IAAI,CAAC,KAAtC,CAA4C,aAAW,SAAvD,iBAPF,WADF,CARF,CADF,cAyBE,oBAAC,GAAD,EAAK,KAAK,CAAC,QAAX,CAAoB,MAAM,CAAE,CAAC,CAAD,CAAI,CAAJ,CAA5B,eACE,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,EAEI,kEACA3B,eAAe,cACb,oBAAC,MAAD,EAAQ,aAAa,CAAElG,aAAvB,CAAsC,KAAK,CAAEuB,KAA7C,CAAoD,WAAW,CAAEN,eAAjE,EADa,CAGb,EANN,CADF,CAzBF,CAnPF,CADF,CA4RD,CAED,cAAeF,CAAAA,GAAf","sourcesContent":["import WalletConnectProvider from \"@walletconnect/web3-provider\";\r\nimport { Alert, Button, Card, Col, Input, List, Menu, Row } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport ReactJson from \"react-json-view\";\r\nimport { BrowserRouter, Link, Route, Switch } from \"react-router-dom\";\r\nimport Web3Modal from \"web3modal\";\r\nimport \"./App.css\";\r\nimport { Account, Address, AddressInput, Contract, Faucet, GasGauge, Header, Ramp, ThemeSwitch } from \"./components\";\r\nimport {INFURA_ID, NETWORK, NETWORKS } from \"./constants\";\r\nimport { Transactor } from \"./helpers\";\r\nimport {\r\n  useBalance,\r\n  useContractLoader,\r\n  useContractReader,\r\n  useEventListener,\r\n  useExchangePrice,\r\n  useGasPrice,\r\n  useOnBlock,\r\n  useUserSigner,\r\n} from \"./hooks\";\r\n\r\nconst { BufferList } = require(\"bl\");\r\n// https://www.npmjs.com/package/ipfs-http-client\r\nconst ipfsAPI = require(\"ipfs-http-client\");\r\nconst ipfs = ipfsAPI({ host: \"ipfs.infura.io\", port: \"5001\", protocol: \"https\" });\r\n\r\nconst { ethers } = require(\"ethers\");\r\n\r\n/*\r\n    Welcome to üèó scaffold-eth !\r\n\r\n    Code:\r\n    https://github.com/austintgriffith/scaffold-eth\r\n\r\n    Support:\r\n    https://t.me/joinchat/KByvmRe5wkR-8F_zz6AjpA\r\n    or DM @austingriffith on twitter or telegram\r\n\r\n    You should get your own Infura.io ID and put it in `constants.js`\r\n    (this is your connection to the main Ethereum network for ENS etc.)\r\n\r\n\r\n    üåè EXTERNAL CONTRACTS:\r\n    You can also bring in contract artifacts in `constants.js`\r\n    (and then use the `useExternalContractLoader()` hook!)\r\n*/\r\n\r\n/// üì° What chain are your contracts deployed to?\r\nconst targetNetwork = NETWORKS.mumbai; // <------- select your target frontend network (localhost, rinkeby, xdai, mainnet)\r\n\r\n// üò¨ Sorry for all the console logging\r\nconst DEBUG = true;\r\nconst NETWORKCHECK = true;\r\n\r\n// EXAMPLE STARTING JSON:\r\nconst STARTING_JSON = {\r\n  description: \"It's actually a bison?\",\r\n  external_url: \"https://austingriffith.com/portfolio/paintings/\", // <-- this can link to a page for the specific file too\r\n  image: \"https://austingriffith.com/images/paintings/buffalo.jpg\",\r\n  name: \"Buffalo\",\r\n  attributes: [\r\n    {\r\n      trait_type: \"BackgroundColor\",\r\n      value: \"green\",\r\n    },\r\n    {\r\n      trait_type: \"Eyes\",\r\n      value: \"googly\",\r\n    },\r\n  ],\r\n};\r\n\r\n// helper function to \"Get\" from IPFS\r\n// you usually go content.toString() after this...\r\nconst getFromIPFS = async hashToGet => {\r\n  for await (const file of ipfs.get(hashToGet)) {\r\n    console.log(file.path);\r\n    if (!file.content) continue;\r\n    const content = new BufferList();\r\n    for await (const chunk of file.content) {\r\n      content.append(chunk);\r\n    }\r\n    console.log(content);\r\n    return content;\r\n  }\r\n};\r\n\r\n// üõ∞ providers\r\nif (DEBUG) console.log(\"üì° Connecting to Mainnet Ethereum\");\r\n// const mainnetProvider = getDefaultProvider(\"mainnet\", { infura: INFURA_ID, etherscan: ETHERSCAN_KEY, quorum: 1 });\r\n// const mainnetProvider = new InfuraProvider(\"mainnet\",INFURA_ID);\r\n//\r\n// attempt to connect to our own scaffold eth rpc and if that fails fall back to infura...\r\n// Using StaticJsonRpcProvider as the chainId won't change see https://github.com/ethers-io/ethers.js/issues/901\r\nconst scaffoldEthProvider = navigator.onLine ? new ethers.providers.StaticJsonRpcProvider(\"https://rpc.scaffoldeth.io:48544\") : null;\r\nconst mainnetInfura = navigator.onLine ? new ethers.providers.StaticJsonRpcProvider(\"https://mainnet.infura.io/v3/\" + INFURA_ID) : null;\r\n// ( ‚ö†Ô∏è Getting \"failed to meet quorum\" errors? Check your INFURA_I\r\n\r\n// üè† Your local provider is usually pointed at your local blockchain\r\nconst localProviderUrl = targetNetwork.rpcUrl;\r\n// as you deploy to other networks you can set REACT_APP_PROVIDER=https://dai.poa.network in packages/react-app/.env\r\nconst localProviderUrlFromEnv = process.env.REACT_APP_PROVIDER ? process.env.REACT_APP_PROVIDER : localProviderUrl;\r\nif (DEBUG) console.log(\"üè† Connecting to provider:\", localProviderUrlFromEnv);\r\nconst localProvider = new ethers.providers.StaticJsonRpcProvider(localProviderUrlFromEnv);\r\n\r\n// üî≠ block explorer URL\r\nconst blockExplorer = targetNetwork.blockExplorer;\r\n\r\n/*\r\n  Web3 modal helps us \"connect\" external wallets:\r\n*/\r\nconst web3Modal = new Web3Modal({\r\n  // network: \"mainnet\", // optional\r\n  cacheProvider: true, // optional\r\n  providerOptions: {\r\n    walletconnect: {\r\n      package: WalletConnectProvider, // required\r\n      options: {\r\n        infuraId: INFURA_ID,\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst logoutOfWeb3Modal = async () => {\r\n  await web3Modal.clearCachedProvider();\r\n  setTimeout(() => {\r\n    window.location.reload();\r\n  }, 1);\r\n};\r\n\r\nfunction App(props) {\r\n  const mainnetProvider = scaffoldEthProvider && scaffoldEthProvider._network ? scaffoldEthProvider : mainnetInfura;\r\n\r\n  const [injectedProvider, setInjectedProvider] = useState();\r\n  const [address, setAddress] = useState();\r\n  /* üíµ This hook will get the price of ETH from ü¶Ñ Uniswap: */\r\n  const price = useExchangePrice(targetNetwork, mainnetProvider);\r\n\r\n  /* üî• This hook will get the price of Gas from ‚õΩÔ∏è EtherGasStation */\r\n  const gasPrice = useGasPrice(targetNetwork, \"fast\");\r\n  // Use your injected provider from ü¶ä Metamask or if you don't have it then instantly generate a üî• burner wallet.\r\n  const userSigner = useUserSigner(injectedProvider, localProvider);\r\n\r\n  useEffect(() => {\r\n    async function getAddress() {\r\n      if (userSigner) {\r\n        const newAddress = await userSigner.getAddress();\r\n        setAddress(newAddress);\r\n      }\r\n    }\r\n    getAddress();\r\n  }, [userSigner]);\r\n\r\n  // You can warn the user if you would like them to be on a specific network\r\n  const localChainId = localProvider && localProvider._network && localProvider._network.chainId;\r\n  const selectedChainId =\r\n    userSigner && userSigner.provider && userSigner.provider._network && userSigner.provider._network.chainId;\r\n\r\n  // For more hooks, check out üîóeth-hooks at: https://www.npmjs.com/package/eth-hooks\r\n\r\n  // The transactor wraps transactions and provides notificiations\r\n  const tx = Transactor(userSigner, gasPrice);\r\n\r\n  // Faucet Tx can be used to send funds from the faucet\r\n  const faucetTx = Transactor(localProvider, gasPrice);\r\n\r\n  // üèó scaffold-eth is full of handy hooks like this one to get your balance:\r\n  const yourLocalBalance = useBalance(localProvider, address);\r\n\r\n  // Just plug in different üõ∞ providers to get your balance on different chains:\r\n  const yourMainnetBalance = useBalance(mainnetProvider, address);\r\n\r\n  // Load in your local üìù contract and read a value from it:\r\n  const readContracts = useContractLoader(localProvider);\r\n\r\n  // If you want to make üîê write transactions to your contracts, use the userSigner:\r\n  const writeContracts = useContractLoader(userSigner, { chainId: localChainId });\r\n\r\n  // EXTERNAL CONTRACT EXAMPLE:\r\n  //\r\n  // If you want to bring in the mainnet DAI contract it would look like:\r\n  const mainnetContracts = useContractLoader(mainnetProvider);\r\n\r\n  // If you want to call a function on a new block\r\n  useOnBlock(mainnetProvider, () => {\r\n    console.log(`‚õì A new mainnet block is here: ${mainnetProvider._lastBlockNumber}`);\r\n  });\r\n\r\n  // Then read your DAI balance like:\r\n  const myMainnetDAIBalance = useContractReader(mainnetContracts, \"DAI\", \"balanceOf\", [\r\n    \"0x34aA3F359A9D614239015126635CE7732c18fDF3\",\r\n  ]);\r\n\r\n  // keep track of a variable from the contract in the local React state:\r\n  const balance = useContractReader(readContracts, \"YourCollectible\", \"balanceOf\", [address]);\r\n  console.log(\"ü§ó balance:\", balance);\r\n\r\n  // üìü Listen for broadcast events\r\n  const transferEvents = useEventListener(readContracts, \"YourCollectible\", \"Transfer\", localProvider, 1);\r\n  console.log(\"üìü Transfer events:\", transferEvents);\r\n\r\n  //\r\n  // üß† This effect will update yourCollectibles by polling when your balance changes\r\n  //\r\n  const yourBalance = balance && balance.toNumber && balance.toNumber();\r\n  const [yourCollectibles, setYourCollectibles] = useState();\r\n\r\n  useEffect(() => {\r\n    const updateYourCollectibles = async () => {\r\n      const collectibleUpdate = [];\r\n      for (let tokenIndex = 0; tokenIndex < balance; tokenIndex++) {\r\n        try {\r\n          console.log(\"GEtting token index\", tokenIndex);\r\n          const tokenId = await readContracts.YourCollectible.tokenOfOwnerByIndex(address, tokenIndex);\r\n          console.log(\"tokenId\", tokenId);\r\n          const tokenURI = await readContracts.YourCollectible.tokenURI(tokenId);\r\n          console.log(\"tokenURI\", tokenURI);\r\n\r\n          const ipfsHash = tokenURI.replace(\"https://ipfs.io/ipfs/\", \"\");\r\n          console.log(\"ipfsHash\", ipfsHash);\r\n\r\n          const jsonManifestBuffer = await getFromIPFS(ipfsHash);\r\n\r\n          try {\r\n            const jsonManifest = JSON.parse(jsonManifestBuffer.toString());\r\n            console.log(\"jsonManifest\", jsonManifest);\r\n            collectibleUpdate.push({ id: tokenId, uri: tokenURI, owner: address, ...jsonManifest });\r\n          } catch (e) {\r\n            console.log(e);\r\n          }\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      }\r\n      setYourCollectibles(collectibleUpdate);\r\n    };\r\n    updateYourCollectibles();\r\n  }, [address, yourBalance]);\r\n\r\n  /*\r\n  const addressFromENS = useResolveName(mainnetProvider, \"austingriffith.eth\");\r\n  console.log(\"üè∑ Resolved austingriffith.eth as:\",addressFromENS)\r\n  */\r\n\r\n  //\r\n  // üß´ DEBUG üë®üèª‚Äçüî¨\r\n  //\r\n  useEffect(() => {\r\n    if (\r\n      DEBUG &&\r\n      mainnetProvider &&\r\n      address &&\r\n      selectedChainId &&\r\n      yourLocalBalance &&\r\n      yourMainnetBalance &&\r\n      readContracts &&\r\n      writeContracts &&\r\n      mainnetContracts\r\n    ) {\r\n      console.log(\"_____________________________________ üèó scaffold-eth _____________________________________\");\r\n      console.log(\"üåé mainnetProvider\", mainnetProvider);\r\n      console.log(\"üè† localChainId\", localChainId);\r\n      console.log(\"üë©‚Äçüíº selected address:\", address);\r\n      console.log(\"üïµüèª‚Äç‚ôÇÔ∏è selectedChainId:\", selectedChainId);\r\n      console.log(\"üíµ yourLocalBalance\", yourLocalBalance ? ethers.utils.formatEther(yourLocalBalance) : \"...\");\r\n      console.log(\"üíµ yourMainnetBalance\", yourMainnetBalance ? ethers.utils.formatEther(yourMainnetBalance) : \"...\");\r\n      console.log(\"üìù readContracts\", readContracts);\r\n      console.log(\"üåç DAI contract on mainnet:\", mainnetContracts);\r\n      console.log(\"üíµ yourMainnetDAIBalance\", myMainnetDAIBalance);\r\n      console.log(\"üîê writeContracts\", writeContracts);\r\n    }\r\n  }, [\r\n    mainnetProvider,\r\n    address,\r\n    selectedChainId,\r\n    yourLocalBalance,\r\n    yourMainnetBalance,\r\n    readContracts,\r\n    writeContracts,\r\n    mainnetContracts,\r\n  ]);\r\n\r\n  let networkDisplay = \"\";\r\n  if (NETWORKCHECK && localChainId && selectedChainId && localChainId !== selectedChainId) {\r\n    const networkSelected = NETWORK(selectedChainId);\r\n    const networkLocal = NETWORK(localChainId);\r\n    if (selectedChainId === 1337 && localChainId === 31337) {\r\n      networkDisplay = (\r\n        <div style={{ zIndex: 2, position: \"absolute\", right: 0, top: 60, padding: 16 }}>\r\n          <Alert\r\n            message=\"‚ö†Ô∏è Wrong Network ID\"\r\n            description={\r\n              <div>\r\n                You have <b>chain id 1337</b> for localhost and you need to change it to <b>31337</b> to work with\r\n                HardHat.\r\n                <div>(MetaMask -&gt; Settings -&gt; Networks -&gt; Chain ID -&gt; 31337)</div>\r\n              </div>\r\n            }\r\n            type=\"error\"\r\n            closable={false}\r\n          />\r\n        </div>\r\n      );\r\n    } else {\r\n      networkDisplay = (\r\n        <div style={{ zIndex: 2, position: \"absolute\", right: 0, top: 60, padding: 16 }}>\r\n          <Alert\r\n            message=\"‚ö†Ô∏è Wrong Network\"\r\n            description={\r\n              <div>\r\n                You have <b>{networkSelected && networkSelected.name}</b> selected and you need to be on{\" \"}\r\n                <Button\r\n                  onClick={async () => {\r\n                    const ethereum = window.ethereum;\r\n                    const data = [\r\n                      {\r\n                        chainId: \"0x\" + targetNetwork.chainId.toString(16),\r\n                        chainName: targetNetwork.name,\r\n                        nativeCurrency: targetNetwork.nativeCurrency,\r\n                        rpcUrls: [targetNetwork.rpcUrl],\r\n                        blockExplorerUrls: [targetNetwork.blockExplorer],\r\n                      },\r\n                    ];\r\n                    console.log(\"data\", data);\r\n                    const tx = await ethereum.request({ method: \"wallet_addEthereumChain\", params: data }).catch();\r\n                    if (tx) {\r\n                      console.log(tx);\r\n                    }\r\n                  }}\r\n                >\r\n                  <b>{networkLocal && networkLocal.name}</b>\r\n                </Button>.\r\n              </div>\r\n            }\r\n            type=\"error\"\r\n            closable={false}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  } else {\r\n    networkDisplay = (\r\n      <div style={{ zIndex: -1, position: \"absolute\", right: 154, top: 28, padding: 16, color: targetNetwork.color }}>\r\n        {targetNetwork.name}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const loadWeb3Modal = useCallback(async () => {\r\n    const provider = await web3Modal.connect();\r\n    setInjectedProvider(new ethers.providers.Web3Provider(provider));\r\n\r\n    provider.on(\"chainChanged\", chainId => {\r\n      console.log(`chain changed to ${chainId}! updating providers`);\r\n      setInjectedProvider(new ethers.providers.Web3Provider(provider));\r\n    });\r\n\r\n    provider.on(\"accountsChanged\", () => {\r\n      console.log(`account changed!`);\r\n      setInjectedProvider(new ethers.providers.Web3Provider(provider));\r\n    });\r\n\r\n    // Subscribe to session disconnection\r\n    provider.on(\"disconnect\", (code, reason) => {\r\n      console.log(code, reason);\r\n      logoutOfWeb3Modal();\r\n    });\r\n  }, [setInjectedProvider]);\r\n\r\n  useEffect(() => {\r\n    if (web3Modal.cachedProvider) {\r\n      loadWeb3Modal();\r\n    }\r\n  }, [loadWeb3Modal]);\r\n\r\n  const [route, setRoute] = useState();\r\n  useEffect(() => {\r\n    setRoute(window.location.pathname);\r\n  }, [setRoute]);\r\n\r\n  let faucetHint = \"\";\r\n  const faucetAvailable = localProvider && localProvider.connection && targetNetwork.name.indexOf(\"local\") !== -1;\r\n\r\n  const [faucetClicked, setFaucetClicked] = useState(false);\r\n  if (\r\n    !faucetClicked &&\r\n    localProvider &&\r\n    localProvider._network &&\r\n    localProvider._network.chainId == 31337 &&\r\n    yourLocalBalance &&\r\n    ethers.utils.formatEther(yourLocalBalance) <= 0\r\n  ) {\r\n    faucetHint = (\r\n      <div style={{ padding: 16 }}>\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={() => {\r\n            faucetTx({\r\n              to: address,\r\n              value: ethers.utils.parseEther(\"0.01\"),\r\n            });\r\n            setFaucetClicked(true);\r\n          }}\r\n        >\r\n          üí∞ Grab funds from the faucet ‚õΩÔ∏è\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const [yourJSON, setYourJSON] = useState(STARTING_JSON);\r\n  const [sending, setSending] = useState();\r\n  const [ipfsHash, setIpfsHash] = useState();\r\n  const [ipfsDownHash, setIpfsDownHash] = useState();\r\n\r\n  const [downloading, setDownloading] = useState();\r\n  const [ipfsContent, setIpfsContent] = useState();\r\n\r\n  const [transferToAddresses, setTransferToAddresses] = useState({});\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {/* ‚úèÔ∏è Edit the header and change the title to your project name */}\r\n      <Header />\r\n      {networkDisplay}\r\n      <BrowserRouter>\r\n        <Menu style={{ textAlign: \"center\" }} selectedKeys={[route]} mode=\"horizontal\">\r\n          <Menu.Item key=\"/\">\r\n            <Link\r\n              onClick={() => {\r\n                setRoute(\"/\");\r\n              }}\r\n              to=\"/\"\r\n            >\r\n              YourCollectibles\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/transfers\">\r\n            <Link\r\n              onClick={() => {\r\n                setRoute(\"/transfers\");\r\n              }}\r\n              to=\"/transfers\"\r\n            >\r\n              Transfers\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/ipfsup\">\r\n            <Link\r\n              onClick={() => {\r\n                setRoute(\"/ipfsup\");\r\n              }}\r\n              to=\"/ipfsup\"\r\n            >\r\n              IPFS Upload\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/ipfsdown\">\r\n            <Link\r\n              onClick={() => {\r\n                setRoute(\"/ipfsdown\");\r\n              }}\r\n              to=\"/ipfsdown\"\r\n            >\r\n              IPFS Download\r\n            </Link>\r\n          </Menu.Item>\r\n          <Menu.Item key=\"/debugcontracts\">\r\n            <Link\r\n              onClick={() => {\r\n                setRoute(\"/debugcontracts\");\r\n              }}\r\n              to=\"/debugcontracts\"\r\n            >\r\n              Debug Contracts\r\n            </Link>\r\n          </Menu.Item>\r\n        </Menu>\r\n\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            {/*\r\n                üéõ this scaffolding is full of commonly used components\r\n                this <Contract/> component will automatically parse your ABI\r\n                and give you a form to interact with it locally\r\n            */}\r\n            <div style={{ width: 640, margin: \"auto\", marginTop: 32, paddingBottom: 32 }}>\r\n              <List\r\n                bordered\r\n                dataSource={yourCollectibles}\r\n                renderItem={item => {\r\n                  const id = item.id.toNumber();\r\n                  return (\r\n                    <List.Item key={id + \"_\" + item.uri + \"_\" + item.owner}>\r\n                      <Card\r\n                        title={\r\n                          <div>\r\n                            <span style={{ fontSize: 16, marginRight: 8 }}>#{id}</span> {item.name}\r\n                          </div>\r\n                        }\r\n                      >\r\n                        <div>\r\n                          <img src={item.image} style={{ maxWidth: 150 }} />\r\n                        </div>\r\n                        <div>{item.description}</div>\r\n                      </Card>\r\n\r\n                      <div>\r\n                        owner:{\" \"}\r\n                        <Address\r\n                          address={item.owner}\r\n                          ensProvider={mainnetProvider}\r\n                          blockExplorer={blockExplorer}\r\n                          fontSize={16}\r\n                        />\r\n                        <AddressInput\r\n                          ensProvider={mainnetProvider}\r\n                          placeholder=\"transfer to address\"\r\n                          value={transferToAddresses[id]}\r\n                          onChange={newValue => {\r\n                            const update = {};\r\n                            update[id] = newValue;\r\n                            setTransferToAddresses({ ...transferToAddresses, ...update });\r\n                          }}\r\n                        />\r\n                        <Button\r\n                          onClick={() => {\r\n                            console.log(\"writeContracts\", writeContracts);\r\n                            tx(writeContracts.YourCollectible.transferFrom(address, transferToAddresses[id], id));\r\n                          }}\r\n                        >\r\n                          Transfer\r\n                        </Button>\r\n                      </div>\r\n                    </List.Item>\r\n                  );\r\n                }}\r\n              />\r\n            </div>\r\n          </Route>\r\n\r\n          <Route path=\"/transfers\">\r\n            <div style={{ width: 600, margin: \"auto\", marginTop: 32, paddingBottom: 32 }}>\r\n              <List\r\n                bordered\r\n                dataSource={transferEvents}\r\n                renderItem={item => {\r\n                  return (\r\n                    <List.Item key={item[0] + \"_\" + item[1] + \"_\" + item.blockNumber + \"_\" + item[2].toNumber()}>\r\n                      <span style={{ fontSize: 16, marginRight: 8 }}>#{item[2].toNumber()}</span>\r\n                      <Address address={item[0]} ensProvider={mainnetProvider} fontSize={16} /> =&gt;\r\n                      <Address address={item[1]} ensProvider={mainnetProvider} fontSize={16} />\r\n                    </List.Item>\r\n                  );\r\n                }}\r\n              />\r\n            </div>\r\n          </Route>\r\n\r\n          <Route path=\"/ipfsup\">\r\n            <div style={{ paddingTop: 32, width: 740, margin: \"auto\", textAlign: \"left\" }}>\r\n              <ReactJson\r\n                style={{ padding: 8 }}\r\n                src={yourJSON}\r\n                theme=\"pop\"\r\n                enableClipboard={false}\r\n                onEdit={(edit, a) => {\r\n                  setYourJSON(edit.updated_src);\r\n                }}\r\n                onAdd={(add, a) => {\r\n                  setYourJSON(add.updated_src);\r\n                }}\r\n                onDelete={(del, a) => {\r\n                  setYourJSON(del.updated_src);\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <Button\r\n              style={{ margin: 8 }}\r\n              loading={sending}\r\n              size=\"large\"\r\n              shape=\"round\"\r\n              type=\"primary\"\r\n              onClick={async () => {\r\n                console.log(\"UPLOADING...\", yourJSON);\r\n                setSending(true);\r\n                setIpfsHash();\r\n                const result = await ipfs.add(JSON.stringify(yourJSON)); // addToIPFS(JSON.stringify(yourJSON))\r\n                if (result && result.path) {\r\n                  setIpfsHash(result.path);\r\n                }\r\n                setSending(false);\r\n                console.log(\"RESULT:\", result);\r\n              }}\r\n            >\r\n              Upload to IPFS\r\n            </Button>\r\n\r\n            <div style={{ padding: 16, paddingBottom: 150 }}>{ipfsHash}</div>\r\n          </Route>\r\n          <Route path=\"/ipfsdown\">\r\n            <div style={{ paddingTop: 32, width: 740, margin: \"auto\" }}>\r\n              <Input\r\n                value={ipfsDownHash}\r\n                placeHolder=\"IPFS hash (like QmadqNw8zkdrrwdtPFK1pLi8PPxmkQ4pDJXY8ozHtz6tZq)\"\r\n                onChange={e => {\r\n                  setIpfsDownHash(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n            <Button\r\n              style={{ margin: 8 }}\r\n              loading={sending}\r\n              size=\"large\"\r\n              shape=\"round\"\r\n              type=\"primary\"\r\n              onClick={async () => {\r\n                console.log(\"DOWNLOADING...\", ipfsDownHash);\r\n                setDownloading(true);\r\n                setIpfsContent();\r\n                const result = await getFromIPFS(ipfsDownHash); // addToIPFS(JSON.stringify(yourJSON))\r\n                if (result && result.toString) {\r\n                  setIpfsContent(result.toString());\r\n                }\r\n                setDownloading(false);\r\n              }}\r\n            >\r\n              Download from IPFS\r\n            </Button>\r\n\r\n            <pre style={{ padding: 16, width: 500, margin: \"auto\", paddingBottom: 150 }}>{ipfsContent}</pre>\r\n          </Route>\r\n          <Route path=\"/debugcontracts\">\r\n            <Contract\r\n              name=\"YourCollectible\"\r\n              signer={userSigner}\r\n              provider={localProvider}\r\n              address={address}\r\n              blockExplorer={blockExplorer}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n\r\n      <ThemeSwitch />\r\n\r\n      {/* üë®‚Äçüíº Your account is in the top right with a wallet at connect options */}\r\n      <div style={{ position: \"fixed\", textAlign: \"right\", right: 0, top: 0, padding: 10 }}>\r\n        <Account\r\n          address={address}\r\n          localProvider={localProvider}\r\n          userSigner={userSigner}\r\n          mainnetProvider={mainnetProvider}\r\n          price={price}\r\n          web3Modal={web3Modal}\r\n          loadWeb3Modal={loadWeb3Modal}\r\n          logoutOfWeb3Modal={logoutOfWeb3Modal}\r\n          blockExplorer={blockExplorer}\r\n        />\r\n        {faucetHint}\r\n      </div>\r\n\r\n      {/* üó∫ Extra UI like gas price, eth price, faucet, and support: */}\r\n      <div style={{ position: \"fixed\", textAlign: \"left\", left: 0, bottom: 20, padding: 10 }}>\r\n        <Row align=\"middle\" gutter={[4, 4]}>\r\n          <Col span={8}>\r\n            <Ramp price={price} address={address} networks={NETWORKS} />\r\n          </Col>\r\n\r\n          <Col span={8} style={{ textAlign: \"center\", opacity: 0.8 }}>\r\n            <GasGauge gasPrice={gasPrice} />\r\n          </Col>\r\n          <Col span={8} style={{ textAlign: \"center\", opacity: 1 }}>\r\n            <Button\r\n              onClick={() => {\r\n                window.open(\"https://t.me/joinchat/KByvmRe5wkR-8F_zz6AjpA\");\r\n              }}\r\n              size=\"large\"\r\n              shape=\"round\"\r\n            >\r\n              <span style={{ marginRight: 8 }} role=\"img\" aria-label=\"support\">\r\n                üí¨\r\n              </span>\r\n              Support\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row align=\"middle\" gutter={[4, 4]}>\r\n          <Col span={24}>\r\n            {\r\n              /*  if the local provider has a signer, let's show the faucet:  */\r\n              faucetAvailable ? (\r\n                <Faucet localProvider={localProvider} price={price} ensProvider={mainnetProvider} />\r\n              ) : (\r\n                \"\"\r\n              )\r\n            }\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}